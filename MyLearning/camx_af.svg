<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4919px" preserveAspectRatio="none" style="width:2579px;height:4919px;" version="1.1" viewBox="0 0 2579 4919" width="2579px" zoomAndPan="magnify"><defs><filter height="300%" id="f1i3yr6oh2iq0z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="1197.25" y="26.708">camx af overview</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1274.75" y="43.9482">Lin Jin</text><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="4371.5547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="58" y="176.6797"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="248.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="58" y="4585.3672"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="871.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="409" y="636.0156"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="409" y="3859.7109"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="363.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="642" y="4148.9063"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="82.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="647" y="4312.4375"/><rect fill="#7CFC00" filter="url(#f1i3yr6oh2iq0z)" height="352.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2206" y="2954.5234"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="4344.75" style="stroke: #000000; stroke-width: 2.0;" width="2524.5" x="23" y="503.8125"/><rect fill="#FFFFFF" height="1018" style="stroke: none; stroke-width: 1.0;" width="2524.5" x="23" y="592.2109"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="425" x="300" y="740.6797"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="585.3359" style="stroke: #000000; stroke-width: 2.0;" width="2501" x="6" y="888.3438"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="554.2031" style="stroke: #000000; stroke-width: 2.0;" width="2491" x="6" y="912.4766"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="192.4609" style="stroke: #000000; stroke-width: 2.0;" width="552" x="1935" y="1078.2734"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="116.2031" style="stroke: #000000; stroke-width: 2.0;" width="272" x="2157" y="1313.8672"/><rect fill="#FFFFFF" height="56.9375" style="stroke: none; stroke-width: 1.0;" width="272" x="2157" y="1373.1328"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="2491" x="6" y="1437.0703"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="2491" x="6" y="1451.875"/><rect fill="#FFFFFF" height="3238.3516" style="stroke: none; stroke-width: 1.0;" width="2524.5" x="23" y="1610.2109"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="190.7969" style="stroke: #000000; stroke-width: 2.0;" width="2237.5" x="300" y="1690.4766"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="130.5313" style="stroke: #000000; stroke-width: 2.0;" width="1958.5" x="569" y="1743.7422"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="2624.9609" style="stroke: #000000; stroke-width: 2.0;" width="2209" x="290" y="1895.2734"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="1469.7109" style="stroke: #000000; stroke-width: 2.0;" width="1696" x="793" y="2006.8047"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="1367.3125" style="stroke: #000000; stroke-width: 2.0;" width="1315" x="1164" y="2102.2031"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="1219.6484" style="stroke: #000000; stroke-width: 2.0;" width="1180" x="1289" y="2184.6016"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="2287"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="2347.2656"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="369" x="1469" y="2436.6641"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="204.7969" style="stroke: #000000; stroke-width: 2.0;" width="410.5" x="1440" y="2549.0625"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="173.6641" style="stroke: #000000; stroke-width: 2.0;" width="390.5" x="1450" y="2573.1953"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="142.5313" style="stroke: #000000; stroke-width: 2.0;" width="370.5" x="1460" y="2597.3281"/><rect fill="#FFFFFF" height="83.2656" style="stroke: none; stroke-width: 1.0;" width="370.5" x="1460" y="2656.5938"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="250" x="1406" y="2767.8594"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="2880.2578"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="309.0625" style="stroke: #000000; stroke-width: 2.0;" width="330" x="2129" y="2969.6563"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="3350.9844"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="227.7969" style="stroke: #000000; stroke-width: 2.0;" width="338" x="300" y="3532.6484"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="346.4609" style="stroke: #000000; stroke-width: 2.0;" width="992" x="300" y="3774.4453"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="489" x="793" y="3908.9766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="63" x2="63" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="414" x2="414" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="647" x2="647" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="881" x2="881" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1223" x2="1223" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1390" x2="1390" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1531" x2="1531" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1825" x2="1825" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1985" x2="1985" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2113" x2="2113" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2211" x2="2211" y1="102.5469" y2="4865.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2458.5" x2="2458.5" y1="102.5469" y2="4865.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="33" y="99.2451">AFNode</text><ellipse cx="63" cy="70.25" fill="#00FF00" filter="url(#f1i3yr6oh2iq0z)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="59,58.25,65,53.25,63,58.25,65,63.25,59,58.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="33" y="4877.5576">AFNode</text><ellipse cx="63" cy="4896.8594" fill="#00FF00" filter="url(#f1i3yr6oh2iq0z)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="59,4884.8594,65,4879.8594,63,4884.8594,65,4889.8594,59,4884.8594" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="310" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="190" x="317" y="87.2451">camxcafstatsprocessor.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="310" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="190" x="317" y="4884.5576">camxcafstatsprocessor.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="579" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="586" y="87.2451">camxcafioutil.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="579" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="586" y="4884.5576">camxcafioutil.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="803" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="810" y="87.2451">camxafinterface.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="803" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="810" y="4884.5576">camxafinterface.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1174" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1181" y="87.2451">af_core.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1174" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1181" y="4884.5576">af_core.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="1320" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1327" y="87.2451">af_core_input.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="1320" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1327" y="4884.5576">af_core_input.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="1470" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="1477" y="87.2451">af_process.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="1470" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="1477" y="4884.5576">af_process.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="147" x="1750" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="1757" y="87.2451">af_core_output.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="147" x="1750" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="1757" y="4884.5576">af_core_output.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="1911" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1918" y="87.2451">af_debug_data.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="1911" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1918" y="4884.5576">af_debug_data.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="2070" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="2077" y="87.2451">af_util.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="2070" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="2077" y="4884.5576">af_util.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="2167" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="2174" y="87.2451">af_haf.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="2167" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="2174" y="4884.5576">af_haf.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="2400.5" y="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="2407.5" y="87.2451">camxpdlib.cpp</text><rect fill="#FEFECE" filter="url(#f1i3yr6oh2iq0z)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="2400.5" y="4864.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="2407.5" y="4884.5576">camxpdlib.cpp</text><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="4371.5547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="58" y="176.6797"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="248.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="58" y="4585.3672"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="871.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="409" y="636.0156"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="409" y="3859.7109"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="363.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="642" y="4148.9063"/><rect fill="#FFFFFF" filter="url(#f1i3yr6oh2iq0z)" height="82.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="647" y="4312.4375"/><rect fill="#7CFC00" filter="url(#f1i3yr6oh2iq0z)" height="352.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2206" y="2954.5234"/><rect fill="#EEEEEE" filter="url(#f1i3yr6oh2iq0z)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="2564.5" x="3" y="133.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2567.5" y1="133.1133" y2="133.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2567.5" y1="136.1133" y2="136.1133"/><rect fill="#EEEEEE" filter="url(#f1i3yr6oh2iq0z)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="177" x="1196.75" y="122.5469"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="1207.75" y="138.6138">where sw process af</text><polygon fill="#A80036" points="402,172.6797,412,176.6797,402,180.6797,406,176.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="68" x2="408" y1="176.6797" y2="176.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="327" x="75" y="171.7466">CAFStatsProcessor::ExecuteProcessRequest</text><polygon fill="#A80036" points="635,225.9453,645,229.9453,635,233.9453,639,229.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="229.9453" y2="229.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="421" y="225.0122">PublishSkippedFrameOutput</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="338,257.8828,338,282.8828,485,282.8828,485,267.8828,475,257.8828,338,257.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="475" y1="257.8828" y2="267.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="485" x2="475" y1="267.8828" y2="267.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="344" y="274.9497">step1 get gyro data</text><polygon fill="#A80036" points="635,309.0156,645,313.0156,635,317.0156,639,313.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="313.0156" y2="313.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="421" y="308.0825">GetLastNSamples(3)</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="331,326.1484,331,351.1484,493,351.1484,493,336.1484,483,326.1484,331,326.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="483" x2="483" y1="326.1484" y2="336.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="493" x2="483" y1="336.1484" y2="336.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="337" y="343.2153">step2 get gravity data</text><polygon fill="#A80036" points="635,377.2813,645,381.2813,635,385.2813,639,381.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="381.2813" y2="381.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="421" y="376.3481">PopulateGravityData</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="261,394.4141,261,419.4141,562,419.4141,562,404.4141,552,394.4141,261,394.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="552" x2="552" y1="394.4141" y2="404.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="562" x2="552" y1="404.4141" y2="404.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="267" y="411.481">step3: get output buffer hold AF algo output</text><polygon fill="#A80036" points="635,445.5469,645,449.5469,635,453.5469,639,449.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="449.5469" y2="449.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="421" y="444.6138">GetAFOutputBuffers</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="335,462.6797,335,487.6797,489,487.6797,489,472.6797,479,462.6797,335,462.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="479" x2="479" y1="462.6797" y2="472.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="489" x2="479" y1="472.6797" y2="472.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="341" y="479.7466">step4: begin process</text><rect fill="none" height="4344.75" style="stroke: #000000; stroke-width: 2.0;" width="2524.5" x="23" y="503.8125"/><polygon fill="#EEEEEE" points="23,503.8125,87,503.8125,87,510.8125,77,520.8125,23,520.8125,23,503.8125" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="516.8794">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="332" x="102" y="516.0229">[disableAFStatsProcessing==True||m_isFixedFocus]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="542.0781" y2="542.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="542.0781" y2="555.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="555.0781" y2="555.0781"/><polygon fill="#A80036" points="425,551.0781,415,555.0781,425,559.0781,421,555.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="421" y="537.0122">OverwriteAutoFocusOutput</text><polygon fill="#A80036" points="635,580.0781,645,584.0781,635,588.0781,639,584.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="584.0781" y2="584.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="421" y="579.145">PublishOutput</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="2547.5" y1="593.2109" y2="593.2109"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="415" x="28" y="603.4214">[maxPipelineDelay&gt;=pStatsProcessRequestDataInfo-&gt;requestId]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="461" y1="623.1484" y2="623.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="461" x2="461" y1="623.1484" y2="636.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="420" x2="461" y1="636.1484" y2="636.1484"/><polygon fill="#A80036" points="430,632.1484,420,636.1484,430,640.1484,426,636.1484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="426" y="618.0825">ProcessSetParams</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="119,654.1484,119,724.1484,400,724.1484,400,664.1484,390,654.1484,119,654.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="390" x2="390" y1="654.1484" y2="664.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="400" x2="390" y1="664.1484" y2="664.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="125" y="671.2153">will get data like SensorInput</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="125" y="686.3481">FocusMode/FocusDistance/FocusRegions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="125" y="701.481">Gyro/Gravity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="125" y="716.6138">etc</text><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="425" x="300" y="740.6797"/><polygon fill="#EEEEEE" points="300,740.6797,364,740.6797,364,747.6797,354,757.6797,300,757.6797,300,740.6797" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="315" y="753.7466">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="199" x="379" y="752.8901">[if multiCameraEnable==TRUE]</text><polygon fill="#A80036" points="635,774.8125,645,778.8125,635,782.8125,639,778.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="641" y1="778.8125" y2="778.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="426" y="773.8794">GetCameraInfo</text><polygon fill="#A80036" points="635,803.9453,645,807.9453,635,811.9453,639,807.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="641" y1="807.9453" y2="807.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="426" y="803.0122">GetPeerInfo</text><polygon fill="#A80036" points="430,840.0781,420,844.0781,430,848.0781,426,844.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="424" x2="646" y1="844.0781" y2="844.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="436" y="839.145">return</text><polygon fill="#A80036" points="869,869.2109,879,873.2109,869,877.2109,873,873.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="875" y1="873.2109" y2="873.2109"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="426" y="868.2778">AFSetParam</text><rect fill="none" height="585.3359" style="stroke: #000000; stroke-width: 2.0;" width="2501" x="6" y="888.3438"/><polygon fill="#EEEEEE" points="6,888.3438,209,888.3438,209,895.3438,199,905.3438,6,905.3438,6,888.3438" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="21" y="901.4106">detail of AFSetParam</text><rect fill="none" height="554.2031" style="stroke: #000000; stroke-width: 2.0;" width="2491" x="6" y="912.4766"/><polygon fill="#EEEEEE" points="6,912.4766,70,912.4766,70,919.4766,60,929.4766,6,929.4766,6,912.4766" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="21" y="925.5435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="85" y="924.687">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="216" x="90" y="924.687">AFSetParamTypeCameraInfo case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="306" y="924.687">]</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="456,934.6094,456,974.6094,872,974.6094,872,944.6094,862,934.6094,456,934.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="862" x2="862" y1="934.6094" y2="944.6094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872" x2="862" y1="944.6094" y2="944.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="462" y="951.6763">will set role_switch.master=TRUE/FALSE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="395" x="462" y="966.8091">follow algoRole == StatsAlgoRoleMaster/StatsAlgoRoleDefault</text><polygon fill="#A80036" points="869,1000.875,879,1004.875,869,1008.875,873,1004.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="875" y1="1004.875" y2="1004.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="10" y="999.9419">case AFSetParamTypeCameraInfo</text><polygon fill="#A80036" points="1211,1030.0078,1221,1034.0078,1211,1038.0078,1215,1034.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="881" x2="1217" y1="1034.0078" y2="1034.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="318" x="888" y="1029.0747">af_core_set_param(AF_CORE_SET_ROLE_SWITCH)</text><polygon fill="#A80036" points="2199,1059.1406,2209,1063.1406,2199,1067.1406,2203,1063.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="2205" y1="1063.1406" y2="1063.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="1230" y="1058.2075">af_haf_set_param</text><rect fill="none" height="192.4609" style="stroke: #000000; stroke-width: 2.0;" width="552" x="1935" y="1078.2734"/><polygon fill="#EEEEEE" points="1935,1078.2734,2178,1078.2734,2178,1085.2734,2168,1095.2734,1935,1095.2734,1935,1078.2734" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="1950" y="1091.3403">detail of af_haf_set_param</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="1945,1100.4063,1945,1261.4063,2473,1261.4063,2473,1110.4063,2463,1100.4063,1945,1100.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2463" x2="2463" y1="1100.4063" y2="1110.4063"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2473" x2="2463" y1="1110.4063" y2="1110.4063"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="1951" y="1117.4731">here the main flow almost the same will old code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="426" x="1951" y="1132.606">1st: will call HAFSetParamPackageSingle(HAFSetParamRoleSwitch)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="1951" y="1147.7388">2nd: call pAlgo-&gt;set_parameters()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="507" x="1951" y="1162.8716">3rd: call af_default_mixer_set_parameters(AF_HAF_SET_PARAM_ROLE_SWITCH)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="401" x="1951" y="1178.0044">4th: change the pMixer-&gt;p_primary = pMixer-&gt;p_follower_algo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="1951" y="1193.1372">which means will run follower algo for slave</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="1951" y="1208.27">from af_haf_follower.cpp, there're three stategy</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="1951" y="1223.4028">AF_FOLLOWER_COARSE_FOLLOW</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1951" y="1238.5356">AF_FOLLOWER_COMPLETE_FOLLOW</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="1951" y="1253.6685">AF_FOLLOWER_SEQUENTIAL_FOLLOW</text><polygon fill="#A80036" points="2199,1294.7344,2209,1298.7344,2199,1302.7344,2203,1298.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="2205" y1="1298.7344" y2="1298.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="1230" y="1293.8013">af_haf_handle_role_switch</text><rect fill="none" height="116.2031" style="stroke: #000000; stroke-width: 2.0;" width="272" x="2157" y="1313.8672"/><polygon fill="#EEEEEE" points="2157,1313.8672,2221,1313.8672,2221,1320.8672,2211,1330.8672,2157,1330.8672,2157,1313.8672" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="2172" y="1326.9341">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="2236" y="1326.0776">[role_switch.master==FALSE]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2211" x2="2253" y1="1352.1328" y2="1352.1328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2253" x2="2253" y1="1352.1328" y2="1365.1328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2212" x2="2253" y1="1365.1328" y2="1365.1328"/><polygon fill="#A80036" points="2222,1361.1328,2212,1365.1328,2222,1369.1328,2218,1365.1328" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="2218" y="1347.0669">af_haf_event_clear_algo_data</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2157" x2="2429" y1="1374.1328" y2="1374.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="2162" y="1384.3433">[role_switch.master==TRUE]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2211" x2="2253" y1="1409.0703" y2="1409.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2253" x2="2253" y1="1409.0703" y2="1422.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2212" x2="2253" y1="1422.0703" y2="1422.0703"/><polygon fill="#A80036" points="2222,1418.0703,2212,1422.0703,2222,1426.0703,2218,1422.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="2218" y="1404.0044">af_haf_set_to_converge</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="6" x2="2497" y1="1438.0703" y2="1438.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="11" y="1448.2808">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="16" y="1448.2808">AFSetParamPeerInfo case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="181" y="1448.2808">]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="6" x2="2497" y1="1452.875" y2="1452.875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="11" y="1463.0854">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="16" y="1463.0854">AFSetParamTypeBGStats</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="175" y="1463.0854">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="461" y1="1506.8125" y2="1506.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="461" x2="461" y1="1506.8125" y2="1519.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="461" y1="1519.8125" y2="1519.8125"/><polygon fill="#A80036" points="424,1515.8125,414,1519.8125,424,1523.8125,420,1519.8125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="426" y="1501.7466">return</text><polygon fill="#A80036" points="635,1539.8125,645,1543.8125,635,1547.8125,639,1543.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="1543.8125" y2="1543.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="421" y="1538.8794">CopyInputSettings</text><polygon fill="#A80036" points="635,1568.9453,645,1572.9453,635,1576.9453,639,1572.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="1572.9453" y2="1572.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="421" y="1568.0122">PublishExternalCameraMetadata</text><polygon fill="#A80036" points="635,1598.0781,645,1602.0781,635,1606.0781,639,1602.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="1602.0781" y2="1602.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="421" y="1597.145">PublishDefaultOutput</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="2547.5" y1="1611.2109" y2="1611.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="1633.3438" y2="1633.3438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="1633.3438" y2="1646.3438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="1646.3438" y2="1646.3438"/><polygon fill="#A80036" points="425,1642.3438,415,1646.3438,425,1650.3438,421,1646.3438" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="421" y="1628.2778">UpdateAFSettings</text><polygon fill="#A80036" points="635,1671.3438,645,1675.3438,635,1679.3438,639,1675.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="1675.3438" y2="1675.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="421" y="1670.4106">ReadDualCameraInfo</text><rect fill="none" height="190.7969" style="stroke: #000000; stroke-width: 2.0;" width="2237.5" x="300" y="1690.4766"/><polygon fill="#EEEEEE" points="300,1690.4766,364,1690.4766,364,1697.4766,354,1707.4766,300,1707.4766,300,1690.4766" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="315" y="1703.5435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="379" y="1702.687">[m_isPDAFEnable==TRUE]</text><polygon fill="#A80036" points="635,1724.6094,645,1728.6094,635,1732.6094,639,1728.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="1728.6094" y2="1728.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="421" y="1723.6763">ParsePDStats</text><rect fill="none" height="130.5313" style="stroke: #000000; stroke-width: 2.0;" width="1958.5" x="569" y="1743.7422"/><polygon fill="#EEEEEE" points="569,1743.7422,762,1743.7422,762,1750.7422,752,1760.7422,569,1760.7422,569,1743.7422" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="584" y="1756.8091">ParsePDStats detail</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="647" x2="689" y1="1782.0078" y2="1782.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="689" x2="689" y1="1782.0078" y2="1795.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="648" x2="689" y1="1795.0078" y2="1795.0078"/><polygon fill="#A80036" points="658,1791.0078,648,1795.0078,658,1799.0078,654,1795.0078" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="654" y="1776.9419">PopulatePDInputData</text><polygon fill="#A80036" points="2447,1820.0078,2457,1824.0078,2447,1828.0078,2451,1824.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="647" x2="2453" y1="1824.0078" y2="1824.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="654" y="1819.0747">PDLibProcess</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="647" x2="689" y1="1853.2734" y2="1853.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="689" x2="689" y1="1853.2734" y2="1866.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="648" x2="689" y1="1866.2734" y2="1866.2734"/><polygon fill="#A80036" points="658,1862.2734,648,1866.2734,658,1870.2734,654,1866.2734" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="654" y="1848.2075">PublishPDLibOutput</text><rect fill="none" height="2624.9609" style="stroke: #000000; stroke-width: 2.0;" width="2209" x="290" y="1895.2734"/><polygon fill="#EEEEEE" points="290,1895.2734,354,1895.2734,354,1902.2734,344,1912.2734,290,1912.2734,290,1895.2734" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="305" y="1908.3403">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="525" x="369" y="1907.4839">[BAFStatsDependencyMe== pStatsProcessRequestDataInfo-&gt;processSequenceId]</text><polygon fill="#A80036" points="635,1929.4063,645,1933.4063,635,1937.4063,639,1933.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="1933.4063" y2="1933.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="421" y="1928.4731">ParseISPStats</text><polygon fill="#A80036" points="635,1958.5391,645,1962.5391,635,1966.5391,639,1962.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="641" y1="1962.5391" y2="1962.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="421" y="1957.606">UpdataChiStatsSession</text><polygon fill="#A80036" points="869,1987.6719,879,1991.6719,869,1995.6719,873,1991.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="875" y1="1991.6719" y2="1991.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="421" y="1986.7388">m_pAFAlgorithm-&gt;AFProcess</text><rect fill="none" height="1469.7109" style="stroke: #000000; stroke-width: 2.0;" width="1696" x="793" y="2006.8047"/><polygon fill="#EEEEEE" points="793,2006.8047,962,2006.8047,962,2013.8047,952,2023.8047,793,2023.8047,793,2006.8047" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="808" y="2019.8716">AFProcess detail</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="881" x2="923" y1="2045.0703" y2="2045.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="923" x2="923" y1="2045.0703" y2="2058.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="882" x2="923" y1="2058.0703" y2="2058.0703"/><polygon fill="#A80036" points="892,2054.0703,882,2058.0703,892,2062.0703,888,2058.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="888" y="2040.0044">TranslateToAFCoreInput</text><polygon fill="#A80036" points="1211,2083.0703,1221,2087.0703,1211,2091.0703,1215,2087.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="881" x2="1217" y1="2087.0703" y2="2087.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="888" y="2082.1372">af_core_process</text><rect fill="none" height="1367.3125" style="stroke: #000000; stroke-width: 2.0;" width="1315" x="1164" y="2102.2031"/><polygon fill="#EEEEEE" points="1164,2102.2031,1375,2102.2031,1375,2109.2031,1365,2119.2031,1164,2119.2031,1164,2102.2031" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="1179" y="2115.27">af_core_process detail</text><polygon fill="#A80036" points="1378,2136.3359,1388,2140.3359,1378,2144.3359,1382,2140.3359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="1384" y1="2140.3359" y2="2140.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="1230" y="2135.4028">af_map_input_params</text><polygon fill="#A80036" points="1519.5,2165.4688,1529.5,2169.4688,1519.5,2173.4688,1523.5,2169.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="1525.5" y1="2169.4688" y2="2169.4688"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1234" y="2164.5356">af_process_frame</text><rect fill="none" height="1219.6484" style="stroke: #000000; stroke-width: 2.0;" width="1180" x="1289" y="2184.6016"/><polygon fill="#EEEEEE" points="1289,2184.6016,1512,2184.6016,1512,2191.6016,1502,2201.6016,1289,2201.6016,1289,2184.6016" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="1304" y="2197.6685">af_process_frame detail</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="1466,2206.7344,1466,2231.7344,1593,2231.7344,1593,2216.7344,1583,2206.7344,1466,2206.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1583" x2="1583" y1="2206.7344" y2="2216.7344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1593" x2="1583" y1="2216.7344" y2="2216.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1472" y="2223.8013">Process AF stats</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="1299,2245.8672,1299,2270.8672,1759,2270.8672,1759,2255.8672,1749,2245.8672,1299,2245.8672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1749" x2="1749" y1="2245.8672" y2="2255.8672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1759" x2="1749" y1="2255.8672" y2="2255.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="1305" y="2262.9341">stats_id = stats-&gt;bayer_stats.frame_id ??</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="1579" y="2262.9341">frame_id come from ISP?</text><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="2287"/><polygon fill="#EEEEEE" points="1460,2287,1524,2287,1524,2294,1514,2304,1460,2304,1460,2287" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="1475" y="2300.0669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1539" y="2299.2104">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="229" x="1544" y="2299.2104">af_mode.mode==AF_MODE_MANUAL</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1773" y="2299.2104">]</text><polygon fill="#A80036" points="2101.5,2321.1328,2111.5,2325.1328,2101.5,2329.1328,2105.5,2325.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="2107.5" y1="2325.1328" y2="2325.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="1538.5" y="2320.1997">af_util_do_manual_focus</text><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="2347.2656"/><polygon fill="#EEEEEE" points="1460,2347.2656,1524,2347.2656,1524,2354.2656,1514,2364.2656,1460,2364.2656,1460,2347.2656" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="1475" y="2360.3325">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1539" y="2359.4761">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="235" x="1544" y="2359.4761">enable_init_pos &amp;&amp; IS_CAF_ENABLED</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1779" y="2359.4761">]</text><polygon fill="#A80036" points="2101.5,2381.3984,2111.5,2385.3984,2101.5,2389.3984,2105.5,2385.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="2107.5" y1="2385.3984" y2="2385.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1538.5" y="2380.4653">af_util_move_lens_to</text><polygon fill="#A80036" points="2101.5,2417.5313,2111.5,2421.5313,2101.5,2425.5313,2105.5,2421.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="2107.5" y1="2421.5313" y2="2421.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1538.5" y="2416.5981">af_util_move_lens</text><rect fill="none" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="369" x="1469" y="2436.6641"/><polygon fill="#EEEEEE" points="1469,2436.6641,1533,2436.6641,1533,2443.6641,1523,2453.6641,1469,2453.6641,1469,2436.6641" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="1484" y="2449.731">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1548" y="2448.8745">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="275" x="1553" y="2448.8745">if af_lock==TRUE || af_state==AF_INACTIVE</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1828" y="2448.8745">]</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="1479,2458.7969,1479,2483.7969,1580,2483.7969,1580,2468.7969,1570,2458.7969,1479,2458.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1570" x2="1570" y1="2458.7969" y2="2468.7969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1580" x2="1570" y1="2468.7969" y2="2468.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1485" y="2475.8638">return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1528" y="2475.8638">TRUE</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="1573.5" y1="2521.0625" y2="2521.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573.5" x2="1573.5" y1="2521.0625" y2="2534.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1532.5" x2="1573.5" y1="2534.0625" y2="2534.0625"/><polygon fill="#A80036" points="1542.5,2530.0625,1532.5,2534.0625,1542.5,2538.0625,1538.5,2534.0625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="1538.5" y="2515.9966">af_process_parse_stats</text><rect fill="none" height="204.7969" style="stroke: #000000; stroke-width: 2.0;" width="410.5" x="1440" y="2549.0625"/><polygon fill="#EEEEEE" points="1440,2549.0625,1705,2549.0625,1705,2556.0625,1695,2566.0625,1440,2566.0625,1440,2549.0625" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220" x="1455" y="2562.1294">af_process_parse_stats detail</text><rect fill="none" height="173.6641" style="stroke: #000000; stroke-width: 2.0;" width="390.5" x="1450" y="2573.1953"/><polygon fill="#EEEEEE" points="1450,2573.1953,1822,2573.1953,1822,2580.1953,1812,2590.1953,1450,2590.1953,1450,2573.1953" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="327" x="1465" y="2586.2622">if bayer_stats-&gt;bf_type == AF_CORE_BF_FW</text><rect fill="none" height="142.5313" style="stroke: #000000; stroke-width: 2.0;" width="370.5" x="1460" y="2597.3281"/><polygon fill="#EEEEEE" points="1460,2597.3281,1524,2597.3281,1524,2604.3281,1514,2614.3281,1460,2614.3281,1460,2597.3281" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="1475" y="2610.395">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="1539" y="2609.5386">[if MultiWindow Mode]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="1573.5" y1="2635.5938" y2="2635.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573.5" x2="1573.5" y1="2635.5938" y2="2648.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1532.5" x2="1573.5" y1="2648.5938" y2="2648.5938"/><polygon fill="#A80036" points="1542.5,2644.5938,1532.5,2648.5938,1542.5,2652.5938,1538.5,2648.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="280" x="1538.5" y="2630.5278">af_process_parse_bayer_fw_stats_mw</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1460" x2="1830.5" y1="2657.5938" y2="2657.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="1573.5" y1="2679.7266" y2="2679.7266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573.5" x2="1573.5" y1="2679.7266" y2="2692.7266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1532.5" x2="1573.5" y1="2692.7266" y2="2692.7266"/><polygon fill="#A80036" points="1542.5,2688.7266,1532.5,2692.7266,1542.5,2696.7266,1538.5,2692.7266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="247" x="1538.5" y="2674.6606">af_process_parse_bayer_fw_stats</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="1482,2705.7266,1482,2730.7266,1577,2730.7266,1577,2715.7266,1567,2705.7266,1482,2705.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1567" x2="1567" y1="2705.7266" y2="2715.7266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1577" x2="1567" y1="2715.7266" y2="2715.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="1488" y="2722.7935">get fv value</text><rect fill="none" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="250" x="1406" y="2767.8594"/><polygon fill="#EEEEEE" points="1406,2767.8594,1593,2767.8594,1593,2774.8594,1583,2784.8594,1406,2784.8594,1406,2767.8594" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="1421" y="2780.9263">af-&gt;frame_delay&gt;0</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="1416,2789.9922,1416,2814.9922,1642,2814.9922,1642,2799.9922,1632,2789.9922,1416,2789.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1632" x2="1632" y1="2789.9922" y2="2799.9922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1642" x2="1632" y1="2799.9922" y2="2799.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="1422" y="2807.0591">af-&gt;frame_delay--; return TRUE;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="1573.5" y1="2852.2578" y2="2852.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573.5" x2="1573.5" y1="2852.2578" y2="2865.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1532.5" x2="1573.5" y1="2865.2578" y2="2865.2578"/><polygon fill="#A80036" points="1542.5,2861.2578,1532.5,2865.2578,1542.5,2869.2578,1538.5,2865.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1538.5" y="2847.1919">af_process_update_fv_fistory</text><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="2880.2578"/><polygon fill="#EEEEEE" points="1460,2880.2578,1591,2880.2578,1591,2887.2578,1581,2897.2578,1460,2897.2578,1460,2880.2578" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="1475" y="2893.3247">low_light ??</text><polygon fill="#A80036" points="2101.5,2914.3906,2111.5,2918.3906,2101.5,2922.3906,2105.5,2918.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="2107.5" y1="2918.3906" y2="2918.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1538.5" y="2913.4575">af_util_is_low_light</text><polygon fill="#A80036" points="2194,2950.5234,2204,2954.5234,2194,2958.5234,2198,2954.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="2200" y1="2954.5234" y2="2954.5234"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="1538.5" y="2949.5903">af_haf_process</text><rect fill="none" height="309.0625" style="stroke: #000000; stroke-width: 2.0;" width="330" x="2129" y="2969.6563"/><polygon fill="#EEEEEE" points="2129,2969.6563,2332,2969.6563,2332,2976.6563,2322,2986.6563,2129,2986.6563,2129,2969.6563" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="2144" y="2982.7231">af_haf_process detail</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2216" x2="2258" y1="3007.9219" y2="3007.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2258" x2="2258" y1="3007.9219" y2="3020.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2217" x2="2258" y1="3020.9219" y2="3020.9219"/><polygon fill="#A80036" points="2227,3016.9219,2217,3020.9219,2227,3024.9219,2223,3020.9219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="2223" y="3002.856">af_haf_set_fv_stats</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2216" x2="2258" y1="3050.0547" y2="3050.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2258" x2="2258" y1="3050.0547" y2="3063.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2217" x2="2258" y1="3063.0547" y2="3063.0547"/><polygon fill="#A80036" points="2227,3059.0547,2217,3063.0547,2227,3067.0547,2223,3063.0547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="2223" y="3044.9888">af_haf_set_mode</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2216" x2="2258" y1="3092.1875" y2="3092.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2258" x2="2258" y1="3092.1875" y2="3105.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2217" x2="2258" y1="3105.1875" y2="3105.1875"/><polygon fill="#A80036" points="2227,3101.1875,2217,3105.1875,2227,3109.1875,2223,3105.1875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="2223" y="3087.1216">af_haf_spd_detect</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2216" x2="2258" y1="3134.3203" y2="3134.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2258" x2="2258" y1="3134.3203" y2="3147.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2217" x2="2258" y1="3147.3203" y2="3147.3203"/><polygon fill="#A80036" points="2227,3143.3203,2217,3147.3203,2227,3151.3203,2223,3147.3203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="2223" y="3129.2544">af_haf_preprocess_data_broadcast</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="2139,3160.3203,2139,3185.3203,2279,3185.3203,2279,3170.3203,2269,3160.3203,2139,3160.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2269" x2="2269" y1="3160.3203" y2="3170.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2279" x2="2269" y1="3170.3203" y2="3170.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="2145" y="3177.3872">process roi update</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2216" x2="2258" y1="3215.5859" y2="3215.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2258" x2="2258" y1="3215.5859" y2="3228.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2217" x2="2258" y1="3228.5859" y2="3228.5859"/><polygon fill="#A80036" points="2227,3224.5859,2217,3228.5859,2227,3232.5859,2223,3228.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="2223" y="3210.52">af_haf_monitor</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2216" x2="2258" y1="3257.7188" y2="3257.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2258" x2="2258" y1="3257.7188" y2="3270.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2217" x2="2258" y1="3270.7188" y2="3270.7188"/><polygon fill="#A80036" points="2227,3266.7188,2217,3270.7188,2227,3274.7188,2223,3270.7188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="2223" y="3252.6528">af_haf_status_manager_run</text><polygon fill="#A80036" points="1542.5,3302.7188,1532.5,3306.7188,1542.5,3310.7188,1538.5,3306.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1536.5" x2="2210" y1="3306.7188" y2="3306.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1548.5" y="3301.7856">return</text><polygon fill="#A80036" points="2101.5,3331.8516,2111.5,3335.8516,2101.5,3339.8516,2105.5,3335.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="2107.5" y1="3335.8516" y2="3335.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1538.5" y="3330.9185">af_util_adjust_roi</text><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="707" x="1460" y="3350.9844"/><polygon fill="#EEEEEE" points="1460,3350.9844,1524,3350.9844,1524,3357.9844,1514,3367.9844,1460,3367.9844,1460,3350.9844" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="1475" y="3364.0513">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="1539" y="3363.1948">[role_switch.master==</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="1683" y="3363.1948">true</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1709" y="3363.1948">]</text><polygon fill="#A80036" points="2101.5,3385.1172,2111.5,3389.1172,2101.5,3393.1172,2105.5,3389.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1531.5" x2="2107.5" y1="3389.1172" y2="3389.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="1538.5" y="3384.1841">af_util_update_peer_focus_info</text><polygon fill="#A80036" points="1813.5,3428.25,1823.5,3432.25,1813.5,3436.25,1817.5,3432.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="1819.5" y1="3432.25" y2="3432.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="1230" y="3427.3169">af_map_output_params</text><polygon fill="#A80036" points="1973.5,3457.3828,1983.5,3461.3828,1973.5,3465.3828,1977.5,3461.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="1979.5" y1="3461.3828" y2="3461.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="1230" y="3456.4497">af_debug_data_output</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="3504.6484" y2="3504.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="3504.6484" y2="3517.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="3517.6484" y2="3517.6484"/><polygon fill="#A80036" points="425,3513.6484,415,3517.6484,425,3521.6484,421,3517.6484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="421" y="3499.5825">BuildHALOutput</text><rect fill="none" height="227.7969" style="stroke: #000000; stroke-width: 2.0;" width="338" x="300" y="3532.6484"/><polygon fill="#EEEEEE" points="300,3532.6484,529,3532.6484,529,3539.6484,519,3549.6484,300,3549.6484,300,3532.6484" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="315" y="3545.7153">detail of BuildHALOutput</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="3570.9141" y2="3570.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="3570.9141" y2="3583.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="3583.9141" y2="3583.9141"/><polygon fill="#A80036" points="425,3579.9141,415,3583.9141,425,3587.9141,421,3583.9141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="421" y="3565.8481">UpdateControlAFState</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="3613.0469" y2="3613.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="3613.0469" y2="3626.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="3626.0469" y2="3626.0469"/><polygon fill="#A80036" points="425,3622.0469,415,3626.0469,425,3630.0469,421,3626.0469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="421" y="3607.981">UpdateFocusMode</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="3655.1797" y2="3655.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="3655.1797" y2="3668.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="3668.1797" y2="3668.1797"/><polygon fill="#A80036" points="425,3664.1797,415,3668.1797,425,3672.1797,421,3668.1797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="421" y="3650.1138">UpdateCotrolLensState</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="3697.3125" y2="3697.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="3697.3125" y2="3710.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="3710.3125" y2="3710.3125"/><polygon fill="#A80036" points="425,3706.3125,415,3710.3125,425,3714.3125,421,3710.3125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="421" y="3692.2466">UpdateControlLensDistance</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="456" y1="3739.4453" y2="3739.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="456" y1="3739.4453" y2="3752.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="456" y1="3752.4453" y2="3752.4453"/><polygon fill="#A80036" points="425,3748.4453,415,3752.4453,425,3756.4453,421,3752.4453" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="421" y="3734.3794">UpdateFocusValue</text><rect fill="none" height="346.4609" style="stroke: #000000; stroke-width: 2.0;" width="992" x="300" y="3774.4453"/><polygon fill="#EEEEEE" points="300,3774.4453,364,3774.4453,364,3781.4453,354,3791.4453,300,3791.4453,300,3774.4453" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="315" y="3787.5122">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="379" y="3786.6558">[multiCameraEnable==TRUE]</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="334,3796.5781,334,3821.5781,490,3821.5781,490,3806.5781,480,3796.5781,334,3796.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="480" x2="480" y1="3796.5781" y2="3806.5781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="490" x2="480" y1="3806.5781" y2="3806.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="340" y="3813.645">MultiCamera process</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="461" y1="3846.8438" y2="3846.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="461" x2="461" y1="3846.8438" y2="3859.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="420" x2="461" y1="3859.8438" y2="3859.8438"/><polygon fill="#A80036" points="430,3855.8438,420,3859.8438,430,3863.8438,426,3859.8438" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="217" x="426" y="3841.7778">ProcessUpdatePeerFocusInfo</text><polygon fill="#A80036" points="869,3889.8438,879,3893.8438,869,3897.8438,873,3893.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="875" y1="3893.8438" y2="3893.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="426" y="3888.9106">AFGetParam</text><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="489" x="793" y="3908.9766"/><polygon fill="#EEEEEE" points="793,3908.9766,857,3908.9766,857,3915.9766,847,3925.9766,793,3925.9766,793,3908.9766" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="808" y="3922.0435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="872" y="3921.187">[case AFGetParamInfoForPeer]</text><polygon fill="#A80036" points="1211,3943.1094,1221,3947.1094,1211,3951.1094,1215,3947.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="881" x2="1217" y1="3947.1094" y2="3947.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="888" y="3942.1763">af_core_get_param</text><polygon fill="#A80036" points="892,3979.2422,882,3983.2422,892,3987.2422,888,3983.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="886" x2="1222" y1="3983.2422" y2="3983.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="898" y="3978.3091">return</text><polygon fill="#A80036" points="430,4008.375,420,4012.375,430,4016.375,426,4012.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="424" x2="880" y1="4012.375" y2="4012.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="436" y="4007.4419">return</text><polygon fill="#A80036" points="635,4037.5078,645,4041.5078,635,4045.5078,639,4041.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="641" y1="4041.5078" y2="4041.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="426" y="4036.5747">CAFIOUtil::PublishPeerFocusInfo</text><polygon fill="#A80036" points="430,4066.6406,420,4070.6406,430,4074.6406,426,4070.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="424" x2="646" y1="4070.6406" y2="4070.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="436" y="4065.7075">return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="479" y="4065.7075">CamxResultSuccess</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="461" y1="4104.9063" y2="4104.9063"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="461" x2="461" y1="4104.9063" y2="4117.9063"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="461" y1="4117.9063" y2="4117.9063"/><polygon fill="#A80036" points="424,4113.9063,414,4117.9063,424,4121.9063,420,4117.9063" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="426" y="4099.8403">return</text><polygon fill="#A80036" points="630,4144.9063,640,4148.9063,630,4152.9063,634,4148.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414" x2="636" y1="4148.9063" y2="4148.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="421" y="4143.9731">PublishOutput</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="652" x2="694" y1="4178.1719" y2="4178.1719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="694" x2="694" y1="4178.1719" y2="4191.1719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="653" x2="694" y1="4191.1719" y2="4191.1719"/><polygon fill="#A80036" points="663,4187.1719,653,4191.1719,663,4195.1719,659,4191.1719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="659" y="4173.106">PublishFrameControl</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="652" x2="694" y1="4220.3047" y2="4220.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="694" x2="694" y1="4220.3047" y2="4233.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="653" x2="694" y1="4233.3047" y2="4233.3047"/><polygon fill="#A80036" points="663,4229.3047,653,4233.3047,663,4237.3047,659,4233.3047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="659" y="4215.2388">PublishStatsControl</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="652" x2="694" y1="4262.4375" y2="4262.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="694" x2="694" y1="4262.4375" y2="4275.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="653" x2="694" y1="4275.4375" y2="4275.4375"/><polygon fill="#A80036" points="663,4271.4375,653,4275.4375,663,4279.4375,659,4275.4375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="659" y="4257.3716">PublishFrameInfo</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="652" x2="699" y1="4299.5703" y2="4299.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="699" x2="699" y1="4299.5703" y2="4312.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658" x2="699" y1="4312.5703" y2="4312.5703"/><polygon fill="#A80036" points="668,4308.5703,658,4312.5703,668,4316.5703,664,4312.5703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="664" y="4294.5044">PublishExternalCameraMetadata</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="657" x2="699" y1="4346.7031" y2="4346.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="699" x2="699" y1="4346.7031" y2="4359.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658" x2="699" y1="4359.7031" y2="4359.7031"/><polygon fill="#A80036" points="668,4355.7031,658,4359.7031,668,4363.7031,664,4359.7031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="664" y="4341.6372">PublishHALMetadata</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="657" x2="699" y1="4393.8359" y2="4393.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="699" x2="699" y1="4393.8359" y2="4406.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="652" x2="699" y1="4406.8359" y2="4406.8359"/><polygon fill="#A80036" points="662,4402.8359,652,4406.8359,662,4410.8359,658,4406.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="664" y="4388.77">PublishVendorTagMetadata</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="519,4414.8359,519,4439.8359,770,4439.8359,770,4424.8359,760,4414.8359,519,4414.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760" x2="760" y1="4414.8359" y2="4424.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770" x2="760" y1="4424.8359" y2="4424.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="230" x="525" y="4431.9028">seperate HAL and Vendor data</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="652" x2="694" y1="4470.1016" y2="4470.1016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="694" x2="694" y1="4470.1016" y2="4483.1016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="653" x2="694" y1="4483.1016" y2="4483.1016"/><polygon fill="#A80036" points="663,4479.1016,653,4483.1016,663,4487.1016,659,4483.1016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="659" y="4465.0356">PublishPropertyDebugData</text><polygon fill="#A80036" points="425,4508.1016,415,4512.1016,425,4516.1016,421,4512.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="646" y1="4512.1016" y2="4512.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="431" y="4507.1685">return</text><polygon fill="#A80036" points="74,4544.2344,64,4548.2344,74,4552.2344,70,4548.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="68" x2="413" y1="4548.2344" y2="4548.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="80" y="4543.3013">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="110" y1="4572.5" y2="4572.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="110" y1="4572.5" y2="4585.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="110" y1="4585.5" y2="4585.5"/><polygon fill="#A80036" points="79,4581.5,69,4585.5,79,4589.5,75,4585.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="75" y="4567.4341">NotifyJobProcessRequestDone</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="68" x2="110" y1="4619.6328" y2="4619.6328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="110" y1="4619.6328" y2="4632.6328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="110" y1="4632.6328" y2="4632.6328"/><polygon fill="#A80036" points="79,4628.6328,69,4632.6328,79,4636.6328,75,4632.6328" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="75" y="4614.5669">ProcessMetadataDone</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="73,4645.6328,73,4685.6328,402,4685.6328,402,4655.6328,392,4645.6328,73,4645.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="392" x2="392" y1="4645.6328" y2="4655.6328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="402" x2="392" y1="4655.6328" y2="4655.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="308" x="79" y="4662.6997">ProcessMetaDataDone means the metadata for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="279" x="79" y="4677.8325">this requestId has been completely handled</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="68" x2="110" y1="4716.0313" y2="4716.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="110" y1="4716.0313" y2="4729.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="110" y1="4729.0313" y2="4729.0313"/><polygon fill="#A80036" points="79,4725.0313,69,4729.0313,79,4733.0313,75,4729.0313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="75" y="4710.9653">ProcessRequestIdDone</text><polygon fill="#FBFB77" filter="url(#f1i3yr6oh2iq0z)" points="73,4742.0313,73,4797.0313,378,4797.0313,378,4752.0313,368,4742.0313,73,4742.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="368" x2="368" y1="4742.0313" y2="4752.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="378" x2="368" y1="4752.0313" y2="4752.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="79" y="4759.0981">ProcessRequestIdDone means the requestId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="79" y="4774.231">has been completely handled ( all output</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="79" y="4789.3638">data generated )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="68" x2="110" y1="4832.5625" y2="4832.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="110" y1="4832.5625" y2="4845.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="110" y1="4845.5625" y2="4845.5625"/><polygon fill="#A80036" points="73,4841.5625,63,4845.5625,73,4849.5625,69,4845.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="75" y="4827.4966">return</text><!--
@startuml
title <size:18>camx af overview</size>\n     Lin Jin
control AFNode #00ff00
participant camxcafstatsprocessor.cpp as camxcaf_statsp
participant camxcafioutil.cpp as camxcaf_ioutil
participant camxafinterface.cpp as camxaf_interf
participant af_core.cpp as af_core
participant af_core_input.cpp as af_core_input
participant af_process.cpp as af_process
participant af_core_output.cpp as af_core_output
participant af_debug_data.cpp as af_debug_data
participant af_util.cpp as af_util
participant af_haf.cpp as af_haf
participant camxpdlib.cpp as camxpdlib


== <color #ff0000> where sw process af </color>==
AFNode->camxcaf_statsp: **CAFStatsProcessor::ExecuteProcessRequest**
activate AFNode  
  alt skipProcessing=TRUE
    camxcaf_statsp->camxcaf_ioutil: PublishSkippedFrameOutput
  else skipProcessing=FALSE
    note over camxcaf_statsp: step1 get gyro data
    camxcaf_statsp->camxcaf_ioutil: GetLastNSamples(3)
  
    note over camxcaf_statsp: step2 get gravity data
    camxcaf_statsp->camxcaf_ioutil: PopulateGravityData
  
    note over camxcaf_statsp: step3: get output buffer hold AF algo output
    camxcaf_statsp->camxcaf_ioutil: GetAFOutputBuffers
  
    note over camxcaf_statsp: step4: begin process
    alt disableAFStatsProcessing==True||m_isFixedFocus
      camxcaf_statsp->camxcaf_statsp: OverwriteAutoFocusOutput
      camxcaf_statsp->camxcaf_ioutil: PublishOutput
    else maxPipelineDelay>=pStatsProcessRequestDataInfo->requestId
      camxcaf_statsp->camxcaf_statsp: ProcessSetParams
      activate camxcaf_statsp
        note left camxcaf_statsp
          will get data like SensorInput
          FocusMode/FocusDistance/FocusRegions
          Gyro/Gravity
          etc
        end note
        alt if multiCameraEnable==TRUE
          camxcaf_statsp->camxcaf_ioutil: GetCameraInfo
          camxcaf_statsp->camxcaf_ioutil: GetPeerInfo
        end
        camxcaf_ioutil->camxcaf_statsp:return
        camxcaf_statsp->camxaf_interf: <color:red><b>AFSetParam</b></color>
        group detail of AFSetParam
          alt **AFSetParamTypeCameraInfo case**
            note left camxaf_interf
              will set role_switch.master=TRUE/FALSE
              follow algoRole == StatsAlgoRoleMaster/StatsAlgoRoleDefault
            end note
            [->camxaf_interf: case AFSetParamTypeCameraInfo
            camxaf_interf->af_core: af_core_set_param(AF_CORE_SET_ROLE_SWITCH)
            af_core->af_haf: af_haf_set_param
            group detail of af_haf_set_param
              note over af_haf
                <color:red>here the main flow almost the same will old code</color>
                1st: will call HAFSetParamPackageSingle(HAFSetParamRoleSwitch)
                2nd: call pAlgo->set_parameters()
                3rd: call af_default_mixer_set_parameters(AF_HAF_SET_PARAM_ROLE_SWITCH)
                4th: change the pMixer->p_primary = pMixer->p_follower_algo
                which means will run follower algo for slave
                <color:red>from af_haf_follower.cpp, there're three stategy</color>
                <color:blue>AF_FOLLOWER_COARSE_FOLLOW</color>
                <color:blue>AF_FOLLOWER_COMPLETE_FOLLOW</color>
                <color:blue>AF_FOLLOWER_SEQUENTIAL_FOLLOW</color>
              end note
            end
            af_core->af_haf: **af_haf_handle_role_switch**
            alt role_switch.master==FALSE
              af_haf->af_haf: af_haf_event_clear_algo_data
            else role_switch.master==TRUE
              af_haf->af_haf: af_haf_set_to_converge
            end
  
          else **AFSetParamPeerInfo case**
          else **AFSetParamTypeBGStats**
          end
        end
        camxcaf_statsp->camxcaf_statsp: return
      deactivate camxcaf_statsp
      camxcaf_statsp->camxcaf_ioutil: CopyInputSettings
      camxcaf_statsp->camxcaf_ioutil: PublishExternalCameraMetadata
      camxcaf_statsp->camxcaf_ioutil: PublishDefaultOutput
    else
      camxcaf_statsp->camxcaf_statsp: UpdateAFSettings
      camxcaf_statsp->camxcaf_ioutil: ReadDualCameraInfo
      alt m_isPDAFEnable==TRUE
        camxcaf_statsp->camxcaf_ioutil: ParsePDStats
        group **ParsePDStats detail**
          camxcaf_ioutil->camxcaf_ioutil: PopulatePDInputData
          camxcaf_ioutil->camxpdlib: PDLibProcess
          camxcaf_ioutil->camxcaf_ioutil: PublishPDLibOutput
        end
      end
      alt BAFStatsDependencyMe== pStatsProcessRequestDataInfo->processSequenceId
        camxcaf_statsp->camxcaf_ioutil: ParseISPStats
        camxcaf_statsp->camxcaf_ioutil: UpdataChiStatsSession
        camxcaf_statsp->camxaf_interf: m_pAFAlgorithm->AFProcess
  
        group <color #ff0000>AFProcess detail</color>
          camxaf_interf->camxaf_interf: TranslateToAFCoreInput
          camxaf_interf->af_core: af_core_process
  
          group <color #ff0000>af_core_process detail</color>
            af_core->af_core_input: af_map_input_params
            af_core->af_process: <color #ff0000> af_process_frame </color>
  
              group <color #ff0000>af_process_frame detail</color>
                note over af_process: Process AF stats
                note over af_process: stats_id = stats->bayer_stats.frame_id ?? <color #ff0000>frame_id come from ISP? </color>
  
                alt **af_mode.mode==AF_MODE_MANUAL**
                  af_process->af_util: af_util_do_manual_focus
                end
  
                alt **enable_init_pos && IS_CAF_ENABLED**
                 af_process->af_util: af_util_move_lens_to
                end
  
                af_process->af_util: af_util_move_lens
  
                alt **if af_lock==TRUE || af_state==AF_INACTIVE**
                  note over af_process: return **TRUE**
                end
  
                af_process->af_process: **af_process_parse_stats**
                group <color #ff0000>af_process_parse_stats detail</color>
                  group **if bayer_stats->bf_type == AF_CORE_BF_FW**
                      alt if MultiWindow Mode
                          af_process->af_process: **af_process_parse_bayer_fw_stats_mw**
                      else
                          af_process->af_process: **af_process_parse_bayer_fw_stats**
                          note over af_process: get fv value
                      end
                  end
                end
  
                group af->frame_delay>0
                  note over af_process: af->frame_delay- -; return TRUE;
                end
  
                af_process->af_process: af_process_update_fv_fistory
                
                group low_light ??
                af_process->af_util: af_util_is_low_light
                end
  
                af_process->af_haf: <color #ff0000>af_haf_process</color>
                activate af_haf #LawnGreen
                  group af_haf_process detail
                    af_haf->af_haf: af_haf_set_fv_stats
                    af_haf->af_haf: af_haf_set_mode
                    af_haf->af_haf: af_haf_spd_detect
                    af_haf->af_haf: af_haf_preprocess_data_broadcast
                    note over af_haf: process roi update
                    af_haf->af_haf: af_haf_monitor
                    af_haf->af_haf: af_haf_status_manager_run
                  end
                af_haf->af_process: return
                deactivate af_haf

                af_process->af_util: af_util_adjust_roi
                alt role_switch.master==<color:red>**true**</color>
                  af_process->af_util: af_util_update_peer_focus_info
                end
  
              end
  
            af_core->af_core_output: af_map_output_params
            af_core->af_debug_data: af_debug_data_output
          end
  
        end
  
        camxcaf_statsp->camxcaf_statsp: **BuildHALOutput**
        group detail of BuildHALOutput
        camxcaf_statsp->camxcaf_statsp: **UpdateControlAFState**
        camxcaf_statsp->camxcaf_statsp: **UpdateFocusMode**
        camxcaf_statsp->camxcaf_statsp: **UpdateCotrolLensState**
        camxcaf_statsp->camxcaf_statsp: **UpdateControlLensDistance**
        camxcaf_statsp->camxcaf_statsp: **UpdateFocusValue**
        end
  
        alt multiCameraEnable==TRUE
          note over camxcaf_statsp: MultiCamera process
          camxcaf_statsp->camxcaf_statsp: **ProcessUpdatePeerFocusInfo**
          activate camxcaf_statsp
  
          camxcaf_statsp->camxaf_interf: AFGetParam
  
              alt case AFGetParamInfoForPeer
                  camxaf_interf->af_core: af_core_get_param
              end
              af_core->camxaf_interf: return
              camxaf_interf->camxcaf_statsp: return
          camxcaf_statsp->camxcaf_ioutil: CAFIOUtil::PublishPeerFocusInfo
          camxcaf_ioutil->camxcaf_statsp: return **CamxResultSuccess**
          camxcaf_statsp->camxcaf_statsp: return
          deactivate camxcaf_statsp
  
        end
  
        camxcaf_statsp->camxcaf_ioutil: PublishOutput
        activate camxcaf_ioutil
          camxcaf_ioutil->camxcaf_ioutil: PublishFrameControl
          camxcaf_ioutil->camxcaf_ioutil: PublishStatsControl
          camxcaf_ioutil->camxcaf_ioutil: PublishFrameInfo
          camxcaf_ioutil->camxcaf_ioutil: PublishExternalCameraMetadata
          activate camxcaf_ioutil
            camxcaf_ioutil->camxcaf_ioutil: **PublishHALMetadata**
            camxcaf_ioutil->camxcaf_ioutil: **PublishVendorTagMetadata**
            note over camxcaf_ioutil: **seperate HAL and Vendor data**
          deactivate camxcaf_ioutil
          camxcaf_ioutil->camxcaf_ioutil: PublishPropertyDebugData
          camxcaf_ioutil->camxcaf_statsp: return
        deactivate camxcaf_ioutil


      end

  camxcaf_statsp->AFNode: return
deactivate AFNode

AFNode->AFNode: NotifyJobProcessRequestDone
activate AFNode
AFNode->AFNode: ProcessMetadataDone
note right AFNode
  ProcessMetaDataDone means the metadata for
  this requestId has been completely handled
end note
AFNode->AFNode: ProcessRequestIdDone
note right AFNode
  ProcessRequestIdDone means the requestId
  has been completely handled ( all output
  data generated )
end note
AFNode->AFNode: return
deactivate AFNode

end
@enduml

PlantUML version 1.2017.20(Mon Dec 11 16:57:05 GMT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_171-8u171-b11-0ubuntu0.16.04.1-b11
Operating System: Linux
OS Version: 4.4.0-43-Microsoft
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>