<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1921px" preserveAspectRatio="none" style="width:1428px;height:1921px;" version="1.1" viewBox="0 0 1428 1921" width="1428px" zoomAndPan="magnify"><defs><filter height="300%" id="f8s1u1llytl0w" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="336" x="539.5" y="28.708">cs-feature-torso-pd-face-roi-extension</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="54" x="686.5" y="49.6611">Jin Lin</text><rect fill="#FFFACD" height="1853.5547" style="stroke:#A80036;stroke-width:1.0;" width="338" x="701.5" y="61.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="43" x="849" y="73.9731">PDLib</text><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="202.0938"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="231.6641" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="339" y="291.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="339" y1="291.2266" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="349" y1="291.2266" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="349" y1="291.2266" y2="291.2266"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="145.3984" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="339" y="550.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="339" y1="550.8906" y2="696.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="349" y1="550.8906" y2="696.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="349" y1="696.2891" y2="696.2891"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="79.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="344" y="328.3594"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="344" y="475.8906"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="95.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="344" y="580.0234"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="53.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="775.5" y="1806.0313"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="128.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="945.5" y="841.4453"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="721.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="945.5" y="1027.375"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="546.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="950.5" y="1174.0391"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="308.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="955.5" y="1216.1719"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="239.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="960.5" y="1258.3047"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="965.5" y="1445.5"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="94.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="955.5" y="1592.7656"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="960.5" y="1634.8984"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="86.2656" style="stroke:#000000;stroke-width:2.0;" width="329.5" x="305.5" y="429.625"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="56.2656" style="stroke:#000000;stroke-width:2.0;" width="307" x="349" y="600.0234"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="71.3984" style="stroke:#000000;stroke-width:2.0;" width="357" x="950" y="1042.375"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="608.125" style="stroke:#000000;stroke-width:2.0;" width="509.5" x="845.5" y="1127.7734"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="155.3984" style="stroke:#000000;stroke-width:2.0;" width="428" x="855.5" y="1546.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="34" y1="116.3359" y2="242.0938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="34" x2="34" y1="242.0938" y2="270.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="34" y1="270.0938" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="34" x2="34" y1="522.8906" y2="550.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="34" y1="550.8906" y2="978.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="34" x2="34" y1="978.2422" y2="1006.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="34" y1="1006.2422" y2="1756.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="34" x2="34" y1="1756.8984" y2="1784.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="34" y1="1784.8984" y2="1877.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="343.5" y1="116.3359" y2="242.0938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="343.5" x2="343.5" y1="242.0938" y2="270.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="343.5" y1="270.0938" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="343.5" x2="343.5" y1="522.8906" y2="550.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="343.5" y1="550.8906" y2="978.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="343.5" x2="343.5" y1="978.2422" y2="1006.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="343.5" y1="1006.2422" y2="1756.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="343.5" x2="343.5" y1="1756.8984" y2="1784.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="343.5" y1="1784.8984" y2="1877.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="647.5" x2="647.5" y1="116.3359" y2="242.0938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="647.5" x2="647.5" y1="242.0938" y2="270.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="647.5" x2="647.5" y1="270.0938" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="647.5" x2="647.5" y1="522.8906" y2="550.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="647.5" x2="647.5" y1="550.8906" y2="978.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="647.5" x2="647.5" y1="978.2422" y2="1006.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="647.5" x2="647.5" y1="1006.2422" y2="1756.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="647.5" x2="647.5" y1="1756.8984" y2="1784.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="647.5" x2="647.5" y1="1784.8984" y2="1877.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="780.5" x2="780.5" y1="116.3359" y2="242.0938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="780.5" x2="780.5" y1="242.0938" y2="270.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="780.5" x2="780.5" y1="270.0938" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="780.5" x2="780.5" y1="522.8906" y2="550.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="780.5" x2="780.5" y1="550.8906" y2="978.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="780.5" x2="780.5" y1="978.2422" y2="1006.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="780.5" x2="780.5" y1="1006.2422" y2="1756.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="780.5" x2="780.5" y1="1756.8984" y2="1784.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="780.5" x2="780.5" y1="1784.8984" y2="1877.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="950.5" x2="950.5" y1="116.3359" y2="242.0938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="950.5" x2="950.5" y1="242.0938" y2="270.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="950.5" x2="950.5" y1="270.0938" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="950.5" x2="950.5" y1="522.8906" y2="550.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="950.5" x2="950.5" y1="550.8906" y2="978.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="950.5" x2="950.5" y1="978.2422" y2="1006.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="950.5" x2="950.5" y1="1006.2422" y2="1756.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="950.5" x2="950.5" y1="1756.8984" y2="1784.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="950.5" x2="950.5" y1="1784.8984" y2="1877.1641"/><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="54" x="5" y="81.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="12" y="101.0342">af_haf</text><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="54" x="5" y="1876.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="12" y="1896.1592">af_haf</text><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="53" x="315.5" y="81.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="322.5" y="101.0342">af_util</text><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="53" x="315.5" y="1876.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="322.5" y="1896.1592">af_util</text><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="91" x="600.5" y="81.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="607.5" y="101.0342">af_haf_pdaf</text><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="91" x="600.5" y="1876.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="607.5" y="1896.1592">af_haf_pdaf</text><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="146" x="705.5" y="81.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="712.5" y="101.0342">dpd_hardware_flow</text><rect fill="#FEFECE" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="146" x="705.5" y="1876.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="712.5" y="1896.1592">dpd_hardware_flow</text><rect fill="#ADFF2F" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="865.5" y="81.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="872.5" y="101.0342">sparse_hardware_flow</text><rect fill="#ADFF2F" filter="url(#f8s1u1llytl0w)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="865.5" y="1876.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="872.5" y="1896.1592">sparse_hardware_flow</text><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="202.0938"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="231.6641" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="339" y="291.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="339" y1="291.2266" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="349" y1="291.2266" y2="522.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="349" y1="291.2266" y2="291.2266"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="145.3984" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="339" y="550.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="339" y1="550.8906" y2="696.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="349" y1="550.8906" y2="696.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="349" y1="696.2891" y2="696.2891"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="79.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="344" y="328.3594"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="344" y="475.8906"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="95.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="344" y="580.0234"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="53.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="775.5" y="1806.0313"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="128.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="945.5" y="841.4453"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="721.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="945.5" y="1027.375"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="546.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="950.5" y="1174.0391"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="308.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="955.5" y="1216.1719"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="239.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="960.5" y="1258.3047"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="965.5" y="1445.5"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="94.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="955.5" y="1592.7656"/><rect fill="#FFFFFF" filter="url(#f8s1u1llytl0w)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="10" x="960.5" y="1634.8984"/><rect fill="#EEEEEE" filter="url(#f8s1u1llytl0w)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1421" x="0" y="148.6484"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1421" y1="148.6484" y2="148.6484"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1421" y1="151.6484" y2="151.6484"/><rect fill="#EEEEEE" filter="url(#f8s1u1llytl0w)" height="26.625" style="stroke:#000000;stroke-width:2.0;" width="182" x="619.5" y="136.3359"/><text fill="#0000FF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="0" x="631.5" y="155.1875"/><text fill="#0000FF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="156" x="631.5" y="155.1875">When we set ROI</text><text fill="#0000FF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="0" x="793.5" y="155.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="81" y1="189.0938" y2="189.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="81" x2="81" y1="189.0938" y2="202.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="40" x2="81" y1="202.0938" y2="202.0938"/><polygon fill="#A80036" points="50,198.0938,40,202.0938,50,206.0938,46,202.0938" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="296" x="46" y="184.0278">af_haf_set_dynamic_roi_extension_info()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="81" y1="226.0938" y2="226.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="81" x2="81" y1="226.0938" y2="239.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="81" y1="239.0938" y2="239.0938"/><polygon fill="#A80036" points="44,235.0938,34,239.0938,44,243.0938,40,239.0938" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="7.5" cy="290.4766" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="327,287.2266,337,291.2266,327,295.2266,331,291.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="333" y1="291.2266" y2="291.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="124" x="15" y="286.1606">af_util_adjust_roi</text><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="396" y1="315.3594" y2="315.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="396" x2="396" y1="315.3594" y2="328.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="355" x2="396" y1="328.3594" y2="328.3594"/><polygon fill="#A80036" points="365,324.3594,355,328.3594,365,332.3594,361,328.3594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="280" x="361" y="310.2935">af_util_check_dynamic_extension_roi()</text><path d="M359,346.3594 L359,386.3594 L732,386.3594 L732,356.3594 L722,346.3594 L359,346.3594 " fill="#FBFB77" filter="url(#f8s1u1llytl0w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M722,346.3594 L722,356.3594 L732,356.3594 L722,346.3594 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="365" y="363.4263">HAFProgressLevel75 &gt; af-&gt;haf-&gt;kpi.progress</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="365" y="378.5591">Before FineSearch we need ApplyDynamicROIExtension</text><line style="stroke:#A80036;stroke-width:1.0;" x1="354" x2="396" y1="406.625" y2="406.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="396" x2="396" y1="406.625" y2="419.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="396" y1="419.625" y2="419.625"/><polygon fill="#A80036" points="359,415.625,349,419.625,359,423.625,355,419.625" style="stroke:#A80036;stroke-width:1.0;"/><path d="M305.5,429.625 L369.5,429.625 L369.5,436.625 L359.5,446.625 L305.5,446.625 L305.5,429.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="86.2656" style="stroke:#000000;stroke-width:2.0;" width="329.5" x="305.5" y="429.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="320.5" y="442.6919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="384.5" y="441.8354">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="389.5" y="441.8354">TRUE==applyDynamicExtensionROI</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="614.5" y="441.8354">]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="396" y1="462.8906" y2="462.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="396" x2="396" y1="462.8906" y2="475.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="355" x2="396" y1="475.8906" y2="475.8906"/><polygon fill="#A80036" points="365,471.8906,355,475.8906,365,479.8906,361,475.8906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="262" x="361" y="457.8247">af_util_get_dynamic_extension_roi()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="354" x2="396" y1="499.8906" y2="499.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="396" x2="396" y1="499.8906" y2="512.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="396" y1="512.8906" y2="512.8906"/><polygon fill="#A80036" points="359,508.8906,349,512.8906,359,516.8906,355,512.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="396" y1="567.0234" y2="567.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="396" x2="396" y1="567.0234" y2="580.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="355" x2="396" y1="580.0234" y2="580.0234"/><polygon fill="#A80036" points="365,576.0234,355,580.0234,365,584.0234,361,580.0234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="184" x="361" y="561.9575">af_util_stats_config_pdaf</text><path d="M349,600.0234 L413,600.0234 L413,607.0234 L403,617.0234 L349,617.0234 L349,600.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="56.2656" style="stroke:#000000;stroke-width:2.0;" width="307" x="349" y="600.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="364" y="613.0903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="428" y="612.2339">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="213" x="433" y="612.2339">TRUE==useDynamicExtensionROI</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="646" y="612.2339">]</text><path d="M359,622.1563 L359,647.1563 L491,647.1563 L491,632.1563 L481,622.1563 L359,622.1563 " fill="#FBFB77" filter="url(#f8s1u1llytl0w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M481,622.1563 L481,632.1563 L491,632.1563 L481,622.1563 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="365" y="639.2231">set to pdaf config</text><line style="stroke:#A80036;stroke-width:1.0;" x1="354" x2="396" y1="674.2891" y2="674.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="396" x2="396" y1="674.2891" y2="687.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="396" y1="687.2891" y2="687.2891"/><polygon fill="#A80036" points="359,683.2891,349,687.2891,359,691.2891,355,687.2891" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="11,692.2891,1,696.2891,11,700.2891,7,696.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="5" x2="343" y1="696.2891" y2="696.2891"/><rect fill="#EEEEEE" filter="url(#f8s1u1llytl0w)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1421" x="0" y="726.6016"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1421" y1="726.6016" y2="726.6016"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1421" y1="729.6016" y2="729.6016"/><rect fill="#EEEEEE" filter="url(#f8s1u1llytl0w)" height="26.625" style="stroke:#000000;stroke-width:2.0;" width="197" x="612" y="714.2891"/><text fill="#0000FF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="0" x="624" y="733.1406"/><text fill="#0000FF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="171" x="624" y="733.1406">How PDLib process</text><text fill="#0000FF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="0" x="801" y="733.1406"/><path d="M955,755.9141 L955,810.9141 L1412,810.9141 L1412,765.9141 L1402,755.9141 L955,755.9141 " fill="#FBFB77" filter="url(#f8s1u1llytl0w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1402,755.9141 L1402,765.9141 L1412,765.9141 L1402,755.9141 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="436" x="961" y="772.981">Due to performance limitation(multiple PD calculation in one frame),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="961" y="788.1138">only support in sparse HWPD</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="961" y="803.2466">And Actually will run HW/SW process together</text><ellipse cx="7.5" cy="840.6953" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="933.5,837.4453,943.5,841.4453,933.5,845.4453,937.5,841.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="939.5" y1="841.4453" y2="841.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="15" y="836.3794">InitTuning</text><path d="M960,854.4453 L960,954.4453 L1364,954.4453 L1364,864.4453 L1354,854.4453 L960,854.4453 " fill="#FBFB77" filter="url(#f8s1u1llytl0w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1354,854.4453 L1354,864.4453 L1364,864.4453 L1354,854.4453 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="966" y="871.5122">faceTorsoFocus param:(default value)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="982" y="886.645">baseScaleWidth(1.0)            baseScaleHeight(0.5)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="367" x="982" y="901.7778">heightExtensionCount(3.0)      headTopExtensionCount(0)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363" x="982" y="916.9106">confidenceThreshold(100)       pdToleranceThreshold(0.3)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="982" y="932.0435">pdDeltaThreshold(1.0)          widthThreshold(0.25)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="982" y="947.1763">heightThreshold(0.25)</text><polygon fill="#A80036" points="11,966.2422,1,970.2422,11,974.2422,7,970.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="5" x2="949.5" y1="970.2422" y2="970.2422"/><ellipse cx="7.5" cy="1026.625" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="933.5,1023.375,943.5,1027.375,933.5,1031.375,937.5,1027.375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="939.5" y1="1027.375" y2="1027.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="225" x="15" y="1022.3091">SparseHardwareFlow::Process</text><path d="M950,1042.375 L1014,1042.375 L1014,1049.375 L1004,1059.375 L950,1059.375 L950,1042.375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="71.3984" style="stroke:#000000;stroke-width:2.0;" width="357" x="950" y="1042.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="965" y="1055.4419">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="1029" y="1054.5854">[faceTorsoFocus.enable  &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="1220" y="1054.5854">IsSmallFace</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1297" y="1054.5854">]</text><path d="M960,1064.5078 L960,1104.5078 L1190,1104.5078 L1190,1074.5078 L1180,1064.5078 L960,1064.5078 " fill="#FBFB77" filter="url(#f8s1u1llytl0w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1180,1064.5078 L1180,1074.5078 L1190,1074.5078 L1180,1064.5078 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="182" x="966" y="1081.5747">useFaceTorseExt = TRUE</text><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="209" x="966" y="1096.7075">assistHWPDbySWPD = TRUE</text><path d="M845.5,1127.7734 L909.5,1127.7734 L909.5,1134.7734 L899.5,1144.7734 L845.5,1144.7734 L845.5,1127.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="608.125" style="stroke:#000000;stroke-width:2.0;" width="509.5" x="845.5" y="1127.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="860.5" y="1140.8403">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="924.5" y="1139.9839">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="161" x="929.5" y="1139.9839">useFaceTorseExt==TRUE</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1090.5" y="1139.9839">]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="955.5" x2="1002.5" y1="1161.0391" y2="1161.0391"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1002.5" x2="1002.5" y1="1161.0391" y2="1174.0391"/><line style="stroke:#A80036;stroke-width:1.0;" x1="961.5" x2="1002.5" y1="1174.0391" y2="1174.0391"/><polygon fill="#A80036" points="971.5,1170.0391,961.5,1174.0391,971.5,1178.0391,967.5,1174.0391" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="967.5" y="1155.9731">ProcessFaceTorso()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="960.5" x2="1007.5" y1="1203.1719" y2="1203.1719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1007.5" x2="1007.5" y1="1203.1719" y2="1216.1719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="966.5" x2="1007.5" y1="1216.1719" y2="1216.1719"/><polygon fill="#A80036" points="976.5,1212.1719,966.5,1216.1719,976.5,1220.1719,972.5,1216.1719" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="197" x="972.5" y="1198.106">SetContextParamInfoTorso</text><line style="stroke:#A80036;stroke-width:1.0;" x1="965.5" x2="1012.5" y1="1245.3047" y2="1245.3047"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1012.5" x2="1012.5" y1="1245.3047" y2="1258.3047"/><line style="stroke:#A80036;stroke-width:1.0;" x1="971.5" x2="1012.5" y1="1258.3047" y2="1258.3047"/><polygon fill="#A80036" points="981.5,1254.3047,971.5,1258.3047,981.5,1262.3047,977.5,1258.3047" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="278" x="977.5" y="1240.2388">AllocateGridMemoryAndConfigTorso()</text><path d="M975,1276.3047 L975,1407.3047 L1341,1407.3047 L1341,1286.3047 L1331,1276.3047 L975,1276.3047 " fill="#FBFB77" filter="url(#f8s1u1llytl0w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1331,1276.3047 L1331,1286.3047 L1341,1286.3047 L1331,1276.3047 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="981" y="1293.3716">//              X</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="981" y="1308.5044">//              |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="981" y="1323.6372">//start(x,y)    +----+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="981" y="1338.77">//              | &#128512; |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="981" y="1353.9028">//              | &#128512; |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="981" y="1369.0356">//              |    |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="981" y="1384.1685">//              +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="line-through" textLength="81" x="1056" y="1384.1685">--+ end(x, y)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="line-through" textLength="5" x="1141" y="1384.1685">-</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1146" y="1384.1685">Y</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345" x="981" y="1399.3013">extension初始tuning是 heightExtensionCount=3, 但也可以微调</text><line style="stroke:#A80036;stroke-width:1.0;" x1="970.5" x2="1017.5" y1="1432.5" y2="1432.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1017.5" x2="1017.5" y1="1432.5" y2="1445.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="976.5" x2="1017.5" y1="1445.5" y2="1445.5"/><polygon fill="#A80036" points="986.5,1441.5,976.5,1445.5,986.5,1449.5,982.5,1445.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="194" x="982.5" y="1427.4341">MapOneWindowFaceTorso</text><line style="stroke:#A80036;stroke-width:1.0;" x1="975.5" x2="1017.5" y1="1469.5" y2="1469.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1017.5" x2="1017.5" y1="1469.5" y2="1482.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="970.5" x2="1017.5" y1="1482.5" y2="1482.5"/><polygon fill="#A80036" points="980.5,1478.5,970.5,1482.5,980.5,1486.5,976.5,1482.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="970.5" x2="1012.5" y1="1496.5" y2="1496.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1012.5" x2="1012.5" y1="1496.5" y2="1509.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="965.5" x2="1012.5" y1="1509.5" y2="1509.5"/><polygon fill="#A80036" points="975.5,1505.5,965.5,1509.5,975.5,1513.5,971.5,1509.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="965.5" x2="1007.5" y1="1523.5" y2="1523.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1007.5" x2="1007.5" y1="1523.5" y2="1536.5"/><line style="stroke:#A80036;stroke-width:1.0;" x1="960.5" x2="1007.5" y1="1536.5" y2="1536.5"/><polygon fill="#A80036" points="970.5,1532.5,960.5,1536.5,970.5,1540.5,966.5,1536.5" style="stroke:#A80036;stroke-width:1.0;"/><path d="M855.5,1546.5 L919.5,1546.5 L919.5,1553.5 L909.5,1563.5 L855.5,1563.5 L855.5,1546.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.3984" style="stroke:#000000;stroke-width:2.0;" width="428" x="855.5" y="1546.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="870.5" y="1559.5669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="934.5" y="1558.7104">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="221" x="939.5" y="1558.7104">numOfLines==currentImageHeight</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1160.5" y="1558.7104">]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="960.5" x2="1007.5" y1="1579.7656" y2="1579.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1007.5" x2="1007.5" y1="1579.7656" y2="1592.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="966.5" x2="1007.5" y1="1592.7656" y2="1592.7656"/><polygon fill="#A80036" points="976.5,1588.7656,966.5,1592.7656,976.5,1596.7656,972.5,1592.7656" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192" x="972.5" y="1574.6997">GetPDWindowFaceTorso()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="965.5" x2="1012.5" y1="1621.8984" y2="1621.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1012.5" x2="1012.5" y1="1621.8984" y2="1634.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="971.5" x2="1012.5" y1="1634.8984" y2="1634.8984"/><polygon fill="#A80036" points="981.5,1630.8984,971.5,1634.8984,981.5,1638.8984,977.5,1634.8984" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="294" x="977.5" y="1616.8325">sparse_HW_ModuleBasedGridSADSum()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="970.5" x2="1012.5" y1="1658.8984" y2="1658.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1012.5" x2="1012.5" y1="1658.8984" y2="1671.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="965.5" x2="1012.5" y1="1671.8984" y2="1671.8984"/><polygon fill="#A80036" points="975.5,1667.8984,965.5,1671.8984,975.5,1675.8984,971.5,1671.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="965.5" x2="1007.5" y1="1685.8984" y2="1685.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1007.5" x2="1007.5" y1="1685.8984" y2="1698.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="960.5" x2="1007.5" y1="1698.8984" y2="1698.8984"/><polygon fill="#A80036" points="970.5,1694.8984,960.5,1698.8984,970.5,1702.8984,966.5,1698.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="960.5" x2="1002.5" y1="1719.8984" y2="1719.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1002.5" x2="1002.5" y1="1719.8984" y2="1732.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="955.5" x2="1002.5" y1="1732.8984" y2="1732.8984"/><polygon fill="#A80036" points="965.5,1728.8984,955.5,1732.8984,965.5,1736.8984,961.5,1732.8984" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="11,1744.8984,1,1748.8984,11,1752.8984,7,1748.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="5" x2="949.5" y1="1748.8984" y2="1748.8984"/><ellipse cx="7.5" cy="1805.2813" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="763.5,1802.0313,773.5,1806.0313,763.5,1810.0313,767.5,1806.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="769.5" y1="1806.0313" y2="1806.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70" x="15" y="1800.9653">process()</text><path d="M790,1819.0313 L790,1844.0313 L1101,1844.0313 L1101,1829.0313 L1091,1819.0313 L790,1819.0313 " fill="#FBFB77" filter="url(#f8s1u1llytl0w)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1091,1819.0313 L1091,1829.0313 L1101,1829.0313 L1091,1819.0313 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="796" y="1836.0981">almost same as sparse HW, so not write here</text><polygon fill="#A80036" points="11,1855.1641,1,1859.1641,11,1863.1641,7,1859.1641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="5" x2="779.5" y1="1859.1641" y2="1859.1641"/><!--MD5=[701a582793dbd4895060194180cf68cc]
@startuml
title cs-feature-torso-pd-face-roi-extension \n Jin Lin
/'skinparam ParticipantPadding 20
skinparam BoxPadding 10'/
participant af_haf
participant af_util
participant af_haf_pdaf

box "PDLib" #LemonChiffon
participant dpd_hardware_flow
participant sparse_hardware_flow #GreenYellow
end box

== <color:blue><size:16> **When we set ROI** </size></color>==
af_haf->af_haf: **af_haf_set_dynamic_roi_extension_info()**
activate af_haf
af_haf->af_haf:
deactivate af_haf
......
[o->af_util: **af_util_adjust_roi**
activate af_util
    af_util->af_util: **af_util_check_dynamic_extension_roi()**
    activate af_util
        note right af_util
            HAFProgressLevel75 > af->haf->kpi.progress
            Before FineSearch we need ApplyDynamicROIExtension
        end note
    af_util->af_util:
    deactivate af_util

    alt **TRUE==applyDynamicExtensionROI**
        af_util->af_util: **af_util_get_dynamic_extension_roi()**
        activate af_util
        af_util->af_util:
        deactivate af_util
    end
    ......
    af_util->af_util: **af_util_stats_config_pdaf**
    activate af_util
        alt **TRUE==useDynamicExtensionROI**
            note right af_util
                set to pdaf config
            end note
        end
    af_util->af_util:
    deactivate af_util

[<-af_util:
deactivate af_util

== <color:blue><size:16> **How PDLib process** </size></color>==
note right sparse_hardware_flow
    Due to performance limitation(multiple PD calculation in one frame),
    only support in sparse HWPD
    And Actually will run HW/SW process together
end note
[o->sparse_hardware_flow: **InitTuning**
activate sparse_hardware_flow
    note right sparse_hardware_flow
        faceTorsoFocus param:(default value)
            baseScaleWidth(1.0)            baseScaleHeight(0.5)
            heightExtensionCount(3.0)      headTopExtensionCount(0)
            confidenceThreshold(100)       pdToleranceThreshold(0.3)
            pdDeltaThreshold(1.0)          widthThreshold(0.25)
            heightThreshold(0.25)
    end note
[<-sparse_hardware_flow:
deactivate sparse_hardware_flow
......
[o->sparse_hardware_flow: **SparseHardwareFlow::Process**
activate sparse_hardware_flow
    alt faceTorsoFocus.enable  &&  **IsSmallFace**
        note right sparse_hardware_flow
            <color:blue><b>useFaceTorseExt = TRUE</b></color>
            <color:blue><b>assistHWPDbySWPD = TRUE</b></color>
        end note
    end

    alt **useFaceTorseExt==TRUE**
        sparse_hardware_flow->sparse_hardware_flow: **ProcessFaceTorso()**
        activate sparse_hardware_flow
            sparse_hardware_flow->sparse_hardware_flow: **SetContextParamInfoTorso**
            activate sparse_hardware_flow
                sparse_hardware_flow->sparse_hardware_flow: **AllocateGridMemoryAndConfigTorso()**
                activate sparse_hardware_flow
                    note right sparse_hardware_flow
                        //              X
                        //              |
                        //start(x,y)    +- - - -+
                        //              | 😀 |
                        //              | 😀 |
                        //              |    |
                        //              +- - - -+ end(x, y) - - - - - - -Y
                        extension初始tuning是 heightExtensionCount=3, 但也可以微调
                    end note
                    sparse_hardware_flow->sparse_hardware_flow: **MapOneWindowFaceTorso**
                    activate sparse_hardware_flow
                    sparse_hardware_flow->sparse_hardware_flow:
                    deactivate sparse_hardware_flow
                sparse_hardware_flow->sparse_hardware_flow:
                deactivate sparse_hardware_flow
            sparse_hardware_flow->sparse_hardware_flow:
            deactivate sparse_hardware_flow

            alt **numOfLines==currentImageHeight**
                sparse_hardware_flow->sparse_hardware_flow: **GetPDWindowFaceTorso()**
                activate sparse_hardware_flow
                    sparse_hardware_flow->sparse_hardware_flow: **sparse_HW_ModuleBasedGridSADSum()**
                    activate sparse_hardware_flow
                    sparse_hardware_flow->sparse_hardware_flow:
                    deactivate sparse_hardware_flow
                sparse_hardware_flow->sparse_hardware_flow:
                deactivate sparse_hardware_flow
            end
        sparse_hardware_flow->sparse_hardware_flow:
        deactivate sparse_hardware_flow
    end
[<-sparse_hardware_flow:
deactivate sparse_hardware_flow
......
[o->dpd_hardware_flow: **process()**
activate dpd_hardware_flow
    note right dpd_hardware_flow
        almost same as sparse HW, so not write here
    end note
[<-dpd_hardware_flow:
deactivate dpd_hardware_flow

@enduml

@startuml
title cs-feature-torso-pd-face-roi-extension \n Jin Lin
participant af_haf
participant af_util
participant af_haf_pdaf

box "PDLib" #LemonChiffon
participant dpd_hardware_flow
participant sparse_hardware_flow #GreenYellow
end box

== <color:blue><size:16> **When we set ROI** </size></color>==
af_haf->af_haf: **af_haf_set_dynamic_roi_extension_info()**
activate af_haf
af_haf->af_haf:
deactivate af_haf
......
[o->af_util: **af_util_adjust_roi**
activate af_util
    af_util->af_util: **af_util_check_dynamic_extension_roi()**
    activate af_util
        note right af_util
            HAFProgressLevel75 > af->haf->kpi.progress
            Before FineSearch we need ApplyDynamicROIExtension
        end note
    af_util->af_util:
    deactivate af_util

    alt **TRUE==applyDynamicExtensionROI**
        af_util->af_util: **af_util_get_dynamic_extension_roi()**
        activate af_util
        af_util->af_util:
        deactivate af_util
    end
    ......
    af_util->af_util: **af_util_stats_config_pdaf**
    activate af_util
        alt **TRUE==useDynamicExtensionROI**
            note right af_util
                set to pdaf config
            end note
        end
    af_util->af_util:
    deactivate af_util

[<-af_util:
deactivate af_util

== <color:blue><size:16> **How PDLib process** </size></color>==
note right sparse_hardware_flow
    Due to performance limitation(multiple PD calculation in one frame),
    only support in sparse HWPD
    And Actually will run HW/SW process together
end note
[o->sparse_hardware_flow: **InitTuning**
activate sparse_hardware_flow
    note right sparse_hardware_flow
        faceTorsoFocus param:(default value)
            baseScaleWidth(1.0)            baseScaleHeight(0.5)
            heightExtensionCount(3.0)      headTopExtensionCount(0)
            confidenceThreshold(100)       pdToleranceThreshold(0.3)
            pdDeltaThreshold(1.0)          widthThreshold(0.25)
            heightThreshold(0.25)
    end note
[<-sparse_hardware_flow:
deactivate sparse_hardware_flow
......
[o->sparse_hardware_flow: **SparseHardwareFlow::Process**
activate sparse_hardware_flow
    alt faceTorsoFocus.enable  &&  **IsSmallFace**
        note right sparse_hardware_flow
            <color:blue><b>useFaceTorseExt = TRUE</b></color>
            <color:blue><b>assistHWPDbySWPD = TRUE</b></color>
        end note
    end

    alt **useFaceTorseExt==TRUE**
        sparse_hardware_flow->sparse_hardware_flow: **ProcessFaceTorso()**
        activate sparse_hardware_flow
            sparse_hardware_flow->sparse_hardware_flow: **SetContextParamInfoTorso**
            activate sparse_hardware_flow
                sparse_hardware_flow->sparse_hardware_flow: **AllocateGridMemoryAndConfigTorso()**
                activate sparse_hardware_flow
                    note right sparse_hardware_flow
                        //              X
                        //              |
                        //start(x,y)    +- - - -+
                        //              | 😀 |
                        //              | 😀 |
                        //              |    |
                        //              +- - - -+ end(x, y) - - - - - - -Y
                        extension初始tuning是 heightExtensionCount=3, 但也可以微调
                    end note
                    sparse_hardware_flow->sparse_hardware_flow: **MapOneWindowFaceTorso**
                    activate sparse_hardware_flow
                    sparse_hardware_flow->sparse_hardware_flow:
                    deactivate sparse_hardware_flow
                sparse_hardware_flow->sparse_hardware_flow:
                deactivate sparse_hardware_flow
            sparse_hardware_flow->sparse_hardware_flow:
            deactivate sparse_hardware_flow

            alt **numOfLines==currentImageHeight**
                sparse_hardware_flow->sparse_hardware_flow: **GetPDWindowFaceTorso()**
                activate sparse_hardware_flow
                    sparse_hardware_flow->sparse_hardware_flow: **sparse_HW_ModuleBasedGridSADSum()**
                    activate sparse_hardware_flow
                    sparse_hardware_flow->sparse_hardware_flow:
                    deactivate sparse_hardware_flow
                sparse_hardware_flow->sparse_hardware_flow:
                deactivate sparse_hardware_flow
            end
        sparse_hardware_flow->sparse_hardware_flow:
        deactivate sparse_hardware_flow
    end
[<-sparse_hardware_flow:
deactivate sparse_hardware_flow
......
[o->dpd_hardware_flow: **process()**
activate dpd_hardware_flow
    note right dpd_hardware_flow
        almost same as sparse HW, so not write here
    end note
[<-dpd_hardware_flow:
deactivate dpd_hardware_flow

@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>