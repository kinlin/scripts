<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="948px" preserveAspectRatio="none" style="width:1706px;height:948px;" version="1.1" viewBox="0 0 1706 948" width="1706px" zoomAndPan="magnify"><defs><filter height="300%" id="f12f1v7q8ea2l0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="718" y="22.9951">AdvancedCameraUsecase create</text><rect fill="#DDDDDD" height="902.9844" style="stroke: #A80036; stroke-width: 1.0;" width="277" x="1116" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="1222" y="46.3638">Features</text><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="759.125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="977" y="121.7266"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="685.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="982" y="158.8594"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="987" y="270.3906"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="447.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="987" y="354.6563"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="259.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="992" y="420.9219"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1172" y="609.1172"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1311.5" y="731.3203"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="393.7969" style="stroke: #000000; stroke-width: 2.0;" width="831.5" x="852.5" y="374.7891"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="381.5" x="862.5" y="570.9844"/><rect fill="#FFFFFF" height="73.0703" style="stroke: none; stroke-width: 1.0;" width="831.5" x="852.5" y="695.5156"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="303" x2="303" y1="88.7266" y2="898.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="512" x2="512" y1="88.7266" y2="898.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="707.5" x2="707.5" y1="88.7266" y2="898.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="981.5" x2="981.5" y1="88.7266" y2="898.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1177" x2="1177" y1="88.7266" y2="898.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1316" x2="1316" y1="88.7266" y2="898.9844"/><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="218" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="225" y="73.4248">chxextensioninterface</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="218" y="897.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="225" y="917.9795">chxextensioninterface</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="431" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="144" x="438" y="73.4248">chxextensionmodule</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="431" y="897.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="144" x="438" y="917.9795">chxextensionmodule</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="643.5" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="650.5" y="73.4248">chxusecaseutils</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="643.5" y="897.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="650.5" y="917.9795">chxusecaseutils</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="872.5" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="201" x="879.5" y="73.4248">chxadvancedcamerausecase</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="872.5" y="897.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="201" x="879.5" y="917.9795">chxadvancedcamerausecase</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="1120" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="1127" y="73.4248">chxfeaturehdr</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="1120" y="897.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="1127" y="917.9795">chxfeaturehdr</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1244" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1251" y="73.4248">chxfeaturerawjpeg</text><rect fill="#FEFECE" filter="url(#f12f1v7q8ea2l0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1244" y="897.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1251" y="917.9795">chxfeaturerawjpeg</text><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="759.125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="977" y="121.7266"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="685.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="982" y="158.8594"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="987" y="270.3906"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="447.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="987" y="354.6563"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="259.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="992" y="420.9219"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1172" y="609.1172"/><rect fill="#FFFFFF" filter="url(#f12f1v7q8ea2l0)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1311.5" y="731.3203"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3" x2="1694" y1="99.7266" y2="99.7266"/><polygon fill="#A80036" points="965,117.7266,975,121.7266,965,125.7266,969,121.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="708" x2="971" y1="121.7266" y2="121.7266"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="250" x="715" y="116.7935">AdvancedCameraUsecase::Create</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="987" x2="1034" y1="145.9922" y2="145.9922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1034" x2="1034" y1="145.9922" y2="158.9922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="993" x2="1034" y1="158.9922" y2="158.9922"/><polygon fill="#A80036" points="1003,154.9922,993,158.9922,1003,162.9922,999,158.9922" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="999" y="140.9263">Initialize()</text><polygon fill="#FBFB77" filter="url(#f12f1v7q8ea2l0)" points="997,176.9922,997,231.9922,1630,231.9922,1630,186.9922,1620,176.9922,997,176.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1620" x2="1620" y1="176.9922" y2="186.9922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1630" x2="1620" y1="186.9922" y2="186.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1003" y="194.0591">1.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="596" x="1019" y="194.0591">Malloc m_pRdiStream m_pFdStream m_pBayer2YuvStream m_pJPEGInputStream</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1003" y="209.1919">2.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="574" x="1019" y="209.1919">if the stream_type is CAMERA3_STREAM_INPUT, m_isReprocessUsecase=TRUE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1003" y="224.3247">3.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="290" x="1019" y="224.3247">For QuadCFA, preview use binning size</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="992" x2="1039" y1="257.5234" y2="257.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1039" x2="1039" y1="257.5234" y2="270.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="998" x2="1039" y1="270.5234" y2="270.5234"/><polygon fill="#A80036" points="1008,266.5234,998,270.5234,1008,274.5234,1004,270.5234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="1004" y="252.4575">FeatureSetup()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="997" x2="1039" y1="309.6563" y2="309.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1039" x2="1039" y1="309.6563" y2="322.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="992" x2="1039" y1="322.6563" y2="322.6563"/><polygon fill="#A80036" points="1002,318.6563,992,322.6563,1002,326.6563,998,322.6563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1004" y="304.5903">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="992" x2="1039" y1="341.7891" y2="341.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1039" x2="1039" y1="341.7891" y2="354.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="998" x2="1039" y1="354.7891" y2="354.7891"/><polygon fill="#A80036" points="1008,350.7891,998,354.7891,1008,358.7891,1004,354.7891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="1004" y="336.7231">SelectUsecaseConfig()</text><rect fill="none" height="393.7969" style="stroke: #000000; stroke-width: 2.0;" width="831.5" x="852.5" y="374.7891"/><polygon fill="#EEEEEE" points="852.5,374.7891,916.5,374.7891,916.5,381.7891,906.5,391.7891,852.5,391.7891,852.5,374.7891" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="867.5" y="387.856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="542" x="931.5" y="386.9995">[usecaseId=PreviewZSL || YUVInBlobOut || VideoLiveShot || MultiCamera || QuadCFA]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="997" x2="1044" y1="408.0547" y2="408.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1044" x2="1044" y1="408.0547" y2="421.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1003" x2="1044" y1="421.0547" y2="421.0547"/><polygon fill="#A80036" points="1013,417.0547,1003,421.0547,1013,425.0547,1009,421.0547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="1009" y="402.9888">BuildUsecase()</text><polygon fill="#FBFB77" filter="url(#f12f1v7q8ea2l0)" points="1007,439.0547,1007,554.0547,1670,554.0547,1670,449.0547,1660,439.0547,1007,439.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1660" x2="1660" y1="439.0547" y2="449.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1670" x2="1660" y1="449.0547" y2="449.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1013" y="456.1216">1.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="528" x="1029" y="456.1216">assign the m_pPreviewStream m_pSnapshotStream from StreamConfig</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1013" y="471.2544">2.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="1029" y="471.2544">run getSensorDimension()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1013" y="486.3872">3.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="626" x="1029" y="486.3872">query unique pipeline of feature(GetRequiredPipelines), and inset to pipelines array</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1013" y="501.52">4.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="221" x="1029" y="501.52">SetPipelineToSessionMapping</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1013" y="516.6528">5.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="222" x="1029" y="516.6528">SetPipelineToCameraMapping</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1013" y="531.7856">6.</text><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="298" x="1029" y="531.7856">m_enabledFeatures-&gt;OverrideUsecase()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="1025" y="546.9185">take HDR as example</text><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="381.5" x="862.5" y="570.9844"/><polygon fill="#EEEEEE" points="862.5,570.9844,926.5,570.9844,926.5,577.9844,916.5,587.9844,862.5,587.9844,862.5,570.9844" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="877.5" y="584.0513">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="941.5" y="583.1948">[loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="164" x="978.5" y="583.1948">m_enabledFeaturesCount</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1142.5" y="583.1948">]</text><polygon fill="#A80036" points="1160,605.1172,1170,609.1172,1160,613.1172,1164,609.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1002" x2="1166" y1="609.1172" y2="609.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="1009" y="604.1841">OverrideUsecase()</text><polygon fill="#A80036" points="1165,634.25,1175,638.25,1165,642.25,1169,638.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1002" x2="1171" y1="638.25" y2="638.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1009" y="633.3169">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1002" x2="1044" y1="679.5156" y2="679.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1044" x2="1044" y1="679.5156" y2="692.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="997" x2="1044" y1="692.5156" y2="692.5156"/><polygon fill="#A80036" points="1007,688.5156,997,692.5156,1007,696.5156,1003,692.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45" x="1009" y="674.4497">return</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="852.5" x2="1684" y1="696.5156" y2="696.5156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="857.5" y="706.7261">[usecaseId ==</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="953.5" y="706.7261">RawJPEG</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="1009.5" y="706.7261">]</text><polygon fill="#A80036" points="1299.5,727.3203,1309.5,731.3203,1299.5,735.3203,1303.5,731.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="997" x2="1305.5" y1="731.3203" y2="731.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="1004" y="726.3872">OverrideUsecase()</text><polygon fill="#A80036" points="1008,756.4531,998,760.4531,1008,764.4531,1004,760.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1002" x2="1315.5" y1="760.4531" y2="760.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1014" y="755.52">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="997" x2="1039" y1="801.7188" y2="801.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1039" x2="1039" y1="801.7188" y2="814.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="992" x2="1039" y1="814.7188" y2="814.7188"/><polygon fill="#A80036" points="1002,810.7188,992,814.7188,1002,818.7188,998,814.7188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1004" y="796.6528">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="992" x2="1034" y1="843.8516" y2="843.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1034" x2="1034" y1="843.8516" y2="856.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="987" x2="1034" y1="856.8516" y2="856.8516"/><polygon fill="#A80036" points="997,852.8516,987,856.8516,997,860.8516,993,856.8516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45" x="999" y="838.7856">return</text><polygon fill="#A80036" points="719,876.8516,709,880.8516,719,884.8516,715,880.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="713" x2="981" y1="880.8516" y2="880.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45" x="725" y="875.9185">return</text><!--
@startuml

participant chxextensioninterface

participant chxextensionmodule

participant chxusecaseutils

participant chxadvancedcamerausecase

box "Features"
participant chxfeaturehdr
participant chxfeaturerawjpeg
end box

== <color:blue> **ConfigStream** </color>==
note left chxextensioninterface
  <color:Blue>**Call Seq**</color>
  **HALDevice::ConfigureStreams->**
    |- -**CHITeardownOverrideSession**
    |- -**CHIModuleInitialize->**
        |- -**CHIInitializeOverrideSession->**
          |- -**chi_initialize_override_session**
end note

[o->chxextensioninterface: **chi_initialize_override_session**
activate chxextensioninterface
    chxextensioninterface->chxextensionmodule: **InitializeOverrideSession**
    activate chxextensionmodule
        chxextensionmodule->chxusecaseutils: <color:blue>**GetMatchingUsecase()**</color>
        activate chxusecaseutils
            note over chxusecaseutils
              ** If physical cam >1 && num_streams>1 choose MultiCamera**
              ** others may according to num of Streams and Flags**
            end note
        chxextensionmodule<-chxusecaseutils: <color:blue>**return**</color>
        deactivate chxusecaseutils

        chxextensionmodule->chxusecaseutils: <color:blue>**CreateUsecaseObject**</color>
        activate chxusecaseutils
            note over chxusecaseutils
              **UsecaseID<- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ->Instance**
              **PreviewZSL/VideoLiveShot<- ->AdvancedCameraUsecase**
              **MultiCamera<- ->UsecaseDualCamera/UsecaseMultiCamera**
              **QuadCFA<- ->AdvancedCameraUsecase/UsecaseQuadCFA:/**
              **Torch<- ->UsecaseTorch**
            end note
        chxextensionmodule->chxusecaseutils: <color:blue>return</color>
        deactivate chxusecaseutils
    chxextensioninterface<-chxextensionmodule: **return**
    deactivate chxextensionmodule
[o<-chxextensioninterface: return
deactivate chxextensioninterface

newpage AdvancedCameraUsecase create

chxusecaseutils->chxadvancedcamerausecase: <color:blue>**AdvancedCameraUsecase::Create**</color>
activate chxadvancedcamerausecase
    chxadvancedcamerausecase->chxadvancedcamerausecase: **Initialize()**
    activate chxadvancedcamerausecase
        note right chxadvancedcamerausecase
          1. **Malloc m_pRdiStream m_pFdStream m_pBayer2YuvStream m_pJPEGInputStream**
          2. **if the stream_type is CAMERA3_STREAM_INPUT, m_isReprocessUsecase=TRUE**
          3. **For QuadCFA, preview use binning size**
        end note
        chxadvancedcamerausecase->chxadvancedcamerausecase: **FeatureSetup()**
        activate chxadvancedcamerausecase
        chxadvancedcamerausecase<-chxadvancedcamerausecase: return
        deactivate chxadvancedcamerausecase

        chxadvancedcamerausecase->chxadvancedcamerausecase: **SelectUsecaseConfig()**
        activate chxadvancedcamerausecase
            alt usecaseId=PreviewZSL || YUVInBlobOut || VideoLiveShot || MultiCamera || QuadCFA
              chxadvancedcamerausecase->chxadvancedcamerausecase: **BuildUsecase()**
              activate chxadvancedcamerausecase
                note right chxadvancedcamerausecase
                  1. **assign the m_pPreviewStream m_pSnapshotStream from StreamConfig**
                  2. **run getSensorDimension()**
                  3. **query unique pipeline of feature(GetRequiredPipelines), and inset to pipelines array**
                  4. **SetPipelineToSessionMapping**
                  5. **SetPipelineToCameraMapping**
                  6. <color:blue>**m_enabledFeatures->OverrideUsecase()**</color>
                     take HDR as example
                end note
                alt loop **m_enabledFeaturesCount**
                  chxadvancedcamerausecase->chxfeaturehdr: **OverrideUsecase()**
                  activate chxfeaturehdr
                    note right chxfeaturehdr
                    end note
                  chxadvancedcamerausecase->chxfeaturehdr: return
                  deactivate chxfeaturehdr
                end
              chxadvancedcamerausecase->chxadvancedcamerausecase: **return**
              deactivate chxadvancedcamerausecase
            else usecaseId == **RawJPEG**
              chxadvancedcamerausecase->chxfeaturerawjpeg: **OverrideUsecase()**
              activate chxfeaturerawjpeg
              chxadvancedcamerausecase<-chxfeaturerawjpeg: return
              deactivate chxfeaturerawjpeg
            end
        chxadvancedcamerausecase<-chxadvancedcamerausecase: return
        deactivate chxadvancedcamerausecase
    chxadvancedcamerausecase->chxadvancedcamerausecase: **return**
    deactivate chxadvancedcamerausecase
chxusecaseutils<-chxadvancedcamerausecase: **return**
deactivate chxadvancedcamerausecase
@enduml

PlantUML version 1.2017.20(Mon Dec 11 16:57:05 GMT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_171-8u171-b11-0ubuntu0.16.04.1-b11
Operating System: Linux
OS Version: 4.4.0-43-Microsoft
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>