<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1561px" preserveAspectRatio="none" style="width:624px;height:1561px;" version="1.1" viewBox="0 0 624 1561" width="624px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qy2tau4xovqf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1qy2tau4xovqf)" height="1122.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284" y="327.8281"/><rect fill="#FFFFFF" filter="url(#f1qy2tau4xovqf)" height="321.8359" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="289" y="1085.1328"/><rect fill="#FFFFFF" filter="url(#f1qy2tau4xovqf)" height="117.4063" style="stroke: #000000; stroke-width: 2.0;" width="457" x="60" y="408.8828"/><rect fill="#FFFFFF" height="58.7031" style="stroke: none; stroke-width: 1.0;" width="457" x="60" y="467.5859"/><rect fill="#FFFFFF" filter="url(#f1qy2tau4xovqf)" height="451.1406" style="stroke: #000000; stroke-width: 2.0;" width="479" x="49" y="596.9922"/><rect fill="#FFFFFF" filter="url(#f1qy2tau4xovqf)" height="266.4844" style="stroke: #000000; stroke-width: 2.0;" width="544" x="17" y="1105.4844"/><rect fill="#FFFFFF" height="59.1875" style="stroke: none; stroke-width: 1.0;" width="544" x="17" y="1256.5938"/><rect fill="#FFFFFF" height="56.1875" style="stroke: none; stroke-width: 1.0;" width="544" x="17" y="1315.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="289" x2="289" y1="39.6094" y2="1520.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="521" x2="521" y1="39.6094" y2="1520.0234"/><rect fill="#FEFECE" filter="url(#f1qy2tau4xovqf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="175" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="210" x="182" y="24.5332">chxadvancedcamerausecase.cpp</text><rect fill="#FEFECE" filter="url(#f1qy2tau4xovqf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="175" y="1519.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="210" x="182" y="1540.5566">chxadvancedcamerausecase.cpp</text><rect fill="#FEFECE" filter="url(#f1qy2tau4xovqf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="435" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="442" y="24.5332">chxextensionmodule.cpp</text><rect fill="#FEFECE" filter="url(#f1qy2tau4xovqf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="435" y="1519.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="442" y="1540.5566">chxextensionmodule.cpp</text><rect fill="#FFFFFF" filter="url(#f1qy2tau4xovqf)" height="1122.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284" y="327.8281"/><rect fill="#FFFFFF" filter="url(#f1qy2tau4xovqf)" height="321.8359" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="289" y="1085.1328"/><polygon fill="#FBFB77" filter="url(#f1qy2tau4xovqf)" points="8,54.6094,8,243.6094,567,243.6094,567,64.6094,557,54.6094,8,54.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557" x2="557" y1="54.6094" y2="64.6094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="567" x2="557" y1="64.6094" y2="64.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="14" y="73.1045">how we choose Usecase?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="436" x="14" y="89.4561">1. in chxextensionmodule.cpp, use StreamConfigMode [android + Qti self's]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="314" x="14" y="105.8076">2. in chxusecaseutils.cpp, we can create usecase like</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="26" y="122.1592">UsecaseId::PreviewZSL</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="26" y="138.5107">UsecaseId::MultiCamera</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="26" y="154.8623">UsecaseId::MultiCameraVR</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="26" y="171.2139">UsecaseId::MFNR</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="26" y="187.5654">UsecaseId::QuadCFA</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="26" y="203.917">UsecaseId::Torch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="526" x="26" y="220.2686">UsecaseId::AdvancedCameraUsecase    &lt;This need static settings advanceFeatureMask &gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="26" y="236.6201">below is Advance usecase</text><rect fill="#EEEEEE" filter="url(#f1qy2tau4xovqf)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="609" x="3" y="274.6523"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="612" y1="274.6523" y2="274.6523"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="612" y1="277.6523" y2="277.6523"/><rect fill="#EEEEEE" filter="url(#f1qy2tau4xovqf)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="180" x="217.5" y="263.4766"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="223.5" y="280.9717">Advance Usecase initialze</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="289" x2="336" y1="315.1797" y2="315.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336" x2="336" y1="315.1797" y2="328.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="336" y1="328.1797" y2="328.1797"/><polygon fill="#A80036" points="305,324.1797,295,328.1797,305,332.1797,301,328.1797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="301" y="310.3232">pAdvancedCameraUsecase-&gt;Initialize</text><polygon fill="#A80036" points="509,359.1797,519,363.1797,509,367.1797,513,363.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="515" y1="363.1797" y2="363.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="301" y="358.6748">GetVendorTagOps</text><polygon fill="#A80036" points="305,389.5313,295,393.5313,305,397.5313,301,393.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="520" y1="393.5313" y2="393.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="311" y="389.0264">return</text><rect fill="none" height="117.4063" style="stroke: #000000; stroke-width: 2.0;" width="457" x="60" y="408.8828"/><polygon fill="#EEEEEE" points="60,408.8828,121,408.8828,121,416.8828,111,426.8828,60,426.8828,60,408.8828" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="75" y="423.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="136" y="422.3018">[IsMultiCameraUsecase==TRUE]</text><polygon fill="#FBFB77" filter="url(#f1qy2tau4xovqf)" points="192,432.2344,192,458.2344,382,458.2344,382,442.2344,372,432.2344,192,432.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="372" x2="372" y1="432.2344" y2="442.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="382" x2="372" y1="442.2344" y2="442.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="198" y="450.7295">need m_pRdiStream != NULL</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="60" x2="517" y1="468.5859" y2="468.5859"/><polygon fill="#FBFB77" filter="url(#f1qy2tau4xovqf)" points="70,474.5859,70,516.5859,503,516.5859,503,484.5859,493,474.5859,70,474.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="493" x2="493" y1="474.5859" y2="484.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="503" x2="493" y1="484.5859" y2="484.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="76" y="493.0811">will malloc m_pRdiStream</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="412" x="76" y="509.4326">Does this mean for single camera, we only need m_pRdiStream?</text><polygon fill="#FBFB77" filter="url(#f1qy2tau4xovqf)" points="183,538.2891,183,580.2891,391,580.2891,391,548.2891,381,538.2891,183,538.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="381" x2="381" y1="538.2891" y2="548.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="391" x2="381" y1="548.2891" y2="548.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="189" y="556.7842">malloc m_pBayer2YuvStream</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="189" y="573.1357">malloc m_pJPEGInputStream</text><rect fill="none" height="451.1406" style="stroke: #000000; stroke-width: 2.0;" width="479" x="49" y="596.9922"/><polygon fill="#EEEEEE" points="49,596.9922,122,596.9922,122,604.9922,112,614.9922,49,614.9922,49,596.9922" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="64" y="611.4873">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="137" y="610.4111">[PipelineCount times]</text><polygon fill="#FBFB77" filter="url(#f1qy2tau4xovqf)" points="59,620.3438,59,1038.3438,514,1038.3438,514,630.3438,504,620.3438,59,620.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="504" x2="504" y1="620.3438" y2="630.3438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="504" y1="630.3438" y2="630.3438"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223" x="65" y="638.8389">Where is this PipelineCount come?</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="65" y="655.1904">enum AdvancedPipelineType</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="65" y="671.542">{</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="326" x="81" y="687.8936">ZSLSnapshotJpegType = 0,        // snapshot to JPEG</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="310" x="81" y="704.2451">ZSLSnapshotYUVType,             // snapshot to YUV</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="293" x="81" y="720.5967">InternalZSLYuv2JpegType,        // YUV to JPEG</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="376" x="81" y="736.9482">InternalZSLYuv2JpegMFNRType,    // YUV to JPEG for MFNR</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="373" x="81" y="753.2998">Merge3YuvCustomTo1YuvType,      // merge 3 YUV to 1 YUV</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="258" x="81" y="769.6514">ZSLPreviewRawType,              // preview</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="282" x="81" y="786.0029">MFNRPrefilterType,              // MFNR prefilter</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="266" x="81" y="802.3545">MFNRScaleType,                  // MFNR scale</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="270" x="81" y="818.7061">MFNRBlendType,                  // MFNR blend</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="81" y="835.0576">MFNRPostFilterType,             // MFNR post filter</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="310" x="81" y="851.4092">SWMFMergeYuvType,               // SW multi frame</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="350" x="81" y="867.7607">ZSLSnapshotYUVAuxType,          // Bayer to Yuv for aux</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="418" x="81" y="884.1123">InternalZSLYuv2JpegMFNRAuxType, // YUV to JPEG for MFNR Aux</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="324" x="81" y="900.4639">MFNRPrefilterAuxType,           // MFNR prefilter Aux</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="81" y="916.8154">MFNRScaleAuxType,               // MFNR scale Aux</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="312" x="81" y="933.167">MFNRBlendAuxType,               // MFNR blend Aux</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="338" x="81" y="949.5186">MFNRPostFilterAuxType,          // MFNR post filter Aux</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="323" x="81" y="965.8701">ZSLYuv2YuvType,                 // Yuv to Yuv reprocess</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="383" x="81" y="982.2217">ZSLSnapshotJpegGPUType,         // snapshot to GPU to JPEG</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="299" x="81" y="998.5732">PipelineCount                   // the pipelines count</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="65" y="1014.9248">};</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="65" y="1031.2764">set m_pipelineToSession[i] = InvalidSessionId</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="341" y1="1072.4844" y2="1072.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="341" y1="1072.4844" y2="1085.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="300" x2="341" y1="1085.4844" y2="1085.4844"/><polygon fill="#A80036" points="310,1081.4844,300,1085.4844,310,1089.4844,306,1085.4844" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189" x="306" y="1067.6279">FeatureSetup(pStreamConfig)</text><rect fill="none" height="266.4844" style="stroke: #000000; stroke-width: 2.0;" width="544" x="17" y="1105.4844"/><polygon fill="#EEEEEE" points="17,1105.4844,78,1105.4844,78,1113.4844,68,1123.4844,17,1123.4844,17,1105.4844" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="32" y="1119.9795">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="299" x="93" y="1118.9033">[usecaseId==PreviewZSL || usecaseId==YUVInBlobOut]</text><polygon fill="#FBFB77" filter="url(#f1qy2tau4xovqf)" points="27,1128.8359,27,1203.8359,547,1203.8359,547,1138.8359,537,1128.8359,27,1128.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="537" y1="1128.8359" y2="1138.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="547" x2="537" y1="1138.8359" y2="1138.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="499" x="33" y="1147.3311">will call AdvanceFeatureMFNR/AdvanceFeatureHDR/AdvanceFeatureSWMF and so on</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="281" x="33" y="1163.6826">So if we want to know which Feature runing</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="33" y="1180.0342">can open log for SelectFeature</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="353" x="33" y="1196.3857">CHX_LOG("SelectFeatures(), enabled feature mask:%x")</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="341" y1="1235.5938" y2="1235.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="341" y1="1235.5938" y2="1248.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="300" x2="341" y1="1248.5938" y2="1248.5938"/><polygon fill="#A80036" points="310,1244.5938,300,1248.5938,310,1252.5938,306,1248.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="306" y="1230.7373">SelectFeatures(pStreamConfig)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="17" x2="561" y1="1257.5938" y2="1257.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="22" y="1269.0127">[usecaseId==MultiCamera]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="341" y1="1294.7813" y2="1294.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="341" y1="1294.7813" y2="1307.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="300" x2="341" y1="1307.7813" y2="1307.7813"/><polygon fill="#A80036" points="310,1303.7813,300,1307.7813,310,1311.7813,306,1307.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="306" y="1289.9248">SelectFeatures(pStreamConfig)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="17" x2="561" y1="1316.7813" y2="1316.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="22" y="1328.2002">[usecaseId==RawJPEG]</text><polygon fill="#FBFB77" filter="url(#f1qy2tau4xovqf)" points="143,1336.6172,143,1362.6172,430,1362.6172,430,1346.6172,420,1336.6172,143,1336.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="420" x2="420" y1="1336.6172" y2="1346.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="430" x2="420" y1="1346.6172" y2="1346.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="266" x="149" y="1355.1123">m_pRawJPEG = FeatureRawJPEG::Create</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="341" y1="1406.3203" y2="1406.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="341" y1="1406.3203" y2="1419.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="341" y1="1419.3203" y2="1419.3203"/><polygon fill="#A80036" points="304,1415.3203,294,1419.3203,304,1423.3203,300,1419.3203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="306" y="1401.4639">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="336" y1="1449.6719" y2="1449.6719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336" x2="336" y1="1449.6719" y2="1462.6719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="289" x2="336" y1="1462.6719" y2="1462.6719"/><polygon fill="#A80036" points="299,1458.6719,289,1462.6719,299,1466.6719,295,1462.6719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="301" y="1444.8154">return</text><rect fill="#EEEEEE" filter="url(#f1qy2tau4xovqf)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="609" x="3" y="1486.8477"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="612" y1="1486.8477" y2="1486.8477"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="612" y1="1489.8477" y2="1489.8477"/><rect fill="#EEEEEE" filter="url(#f1qy2tau4xovqf)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="169" x="223" y="1475.6719"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155" x="229" y="1493.167">Advance Usecase create</text><!--
@startuml
participant chxadvancedcamerausecase.cpp as chxadvanceusecase
participant chxextensionmodule.cpp as chxextensionmodule

note over chxadvanceusecase
  how we choose Usecase?
  1. in chxextensionmodule.cpp, use StreamConfigMode [android + Qti self's]
  2. in chxusecaseutils.cpp, we can create usecase like
     UsecaseId::PreviewZSL
     UsecaseId::MultiCamera
     UsecaseId::MultiCameraVR
     UsecaseId::MFNR
     UsecaseId::QuadCFA
     UsecaseId::Torch
     UsecaseId::AdvancedCameraUsecase    <This need static settings advanceFeatureMask >
     below is Advance usecase
end note

==<color:red><b>Advance Usecase initialze</b></color>==
chxadvanceusecase->chxadvanceusecase: pAdvancedCameraUsecase->Initialize
activate chxadvanceusecase
chxadvanceusecase->chxextensionmodule: **GetVendorTagOps**
chxextensionmodule->chxadvanceusecase: return
alt IsMultiCameraUsecase==TRUE
  note over chxadvanceusecase
    need m_pRdiStream != NULL
  end note
else
  note over chxadvanceusecase
    **will malloc m_pRdiStream**
    <color:red><b>Does this mean for single camera, we only need m_pRdiStream?</b></color>
  end note
end

note over chxadvanceusecase
  **malloc m_pBayer2YuvStream**
  **malloc m_pJPEGInputStream**
end note

loop PipelineCount times
  note over chxadvanceusecase
  <color:red><b>Where is this PipelineCount come?</b></color>
  <b>enum AdvancedPipelineType                                      </b>
  <b>{                                                              </b>
  <b>    ZSLSnapshotJpegType = 0,        // snapshot to JPEG        </b>
  <b>    ZSLSnapshotYUVType,             // snapshot to YUV         </b>
  <b>    InternalZSLYuv2JpegType,        // YUV to JPEG             </b>
  <b>    InternalZSLYuv2JpegMFNRType,    // YUV to JPEG for MFNR    </b>
  <b>    Merge3YuvCustomTo1YuvType,      // merge 3 YUV to 1 YUV    </b>
  <b>    ZSLPreviewRawType,              // preview                 </b>
  <b>    MFNRPrefilterType,              // MFNR prefilter          </b>
  <b>    MFNRScaleType,                  // MFNR scale              </b>
  <b>    MFNRBlendType,                  // MFNR blend              </b>
  <b>    MFNRPostFilterType,             // MFNR post filter        </b>
  <b>    SWMFMergeYuvType,               // SW multi frame          </b>
  <b>    ZSLSnapshotYUVAuxType,          // Bayer to Yuv for aux    </b>
  <b>    InternalZSLYuv2JpegMFNRAuxType, // YUV to JPEG for MFNR Aux</b>
  <b>    MFNRPrefilterAuxType,           // MFNR prefilter Aux      </b>
  <b>    MFNRScaleAuxType,               // MFNR scale Aux          </b>
  <b>    MFNRBlendAuxType,               // MFNR blend Aux          </b>
  <b>    MFNRPostFilterAuxType,          // MFNR post filter Aux    </b>
  <b>    ZSLYuv2YuvType,                 // Yuv to Yuv reprocess    </b>
  <b>    ZSLSnapshotJpegGPUType,         // snapshot to GPU to JPEG </b>
  <color:red><b>    PipelineCount                   // the pipelines count     </b></color>
  <b>};                                                             </b>
  set m_pipelineToSession[i] = InvalidSessionId
  end note
end

chxadvanceusecase->chxadvanceusecase: **FeatureSetup(pStreamConfig)**
  activate chxadvanceusecase
  alt usecaseId==PreviewZSL || usecaseId==YUVInBlobOut
    note over chxadvanceusecase
      will call AdvanceFeatureMFNR/AdvanceFeatureHDR/AdvanceFeatureSWMF and so on
      <color:red><b>So if we want to know which Feature runing</b></color>
      <b>can open log for SelectFeature</b>
      <b>CHX_LOG("SelectFeatures(), enabled feature mask:%x")</b>
    end note
    chxadvanceusecase->chxadvanceusecase: SelectFeatures(pStreamConfig)
  else usecaseId==MultiCamera
    chxadvanceusecase->chxadvanceusecase: SelectFeatures(pStreamConfig)
  else usecaseId==RawJPEG
    note over chxadvanceusecase
      <b>m_pRawJPEG = FeatureRawJPEG::Create</b>
    end note
  end
  chxadvanceusecase->chxadvanceusecase: return
  deactivate chxadvanceusecase


chxadvanceusecase->chxadvanceusecase: return
deactivate chxadvanceusecase

==<color:red><b>Advance Usecase create</b></color>==

@enduml

PlantUML version 1.2017.20(Mon Dec 11 08:57:05 PST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_161-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>