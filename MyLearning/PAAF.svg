<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1068px" preserveAspectRatio="none" style="width:1588px;height:1068px;" version="1.1" viewBox="0 0 1588 1068" width="1588px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xfccrwnbya4n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1xfccrwnbya4n)" height="159.5938" style="stroke: #000000; stroke-width: 2.0;" width="347.5" x="107" y="215.0156"/><rect fill="#FFFFFF" height="110.8906" style="stroke: none; stroke-width: 1.0;" width="347.5" x="107" y="263.7188"/><rect fill="#FFFFFF" filter="url(#f1xfccrwnbya4n)" height="81.0547" style="stroke: #000000; stroke-width: 2.0;" width="327.5" x="117" y="286.5547"/><rect fill="#FFFFFF" height="32.3516" style="stroke: none; stroke-width: 1.0;" width="327.5" x="117" y="335.2578"/><rect fill="#FFFFFF" filter="url(#f1xfccrwnbya4n)" height="50.7031" style="stroke: #000000; stroke-width: 2.0;" width="346.5" x="1219.5" y="959.2344"/><rect fill="#FFFFFF" height="2" style="stroke: none; stroke-width: 1.0;" width="346.5" x="1219.5" y="1007.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="198" x2="198" y1="39.6094" y2="1026.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="382.5" x2="382.5" y1="39.6094" y2="1026.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="481.5" x2="481.5" y1="39.6094" y2="1026.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="745.5" x2="745.5" y1="39.6094" y2="1026.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1032" x2="1032" y1="39.6094" y2="1026.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1173.5" x2="1173.5" y1="39.6094" y2="1026.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1272.5" x2="1272.5" y1="39.6094" y2="1026.9375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1522" x2="1522" y1="39.6094" y2="1026.9375"/><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="127" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="134" y="24.5332">QCameraPAAF.cpp</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="127" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="134" y="1047.4707">QCameraPAAF.cpp</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="331.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="338.5" y="24.5332">af_sw_stats.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="331.5" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="338.5" y="1047.4707">af_sw_stats.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="444.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="451.5" y="24.5332">af_port.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="444.5" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="451.5" y="1047.4707">af_port.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="712.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="719.5" y="24.5332">af_biz.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="712.5" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="719.5" y="1047.4707">af_biz.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="994" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1001" y="24.5332">af_core.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="994" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1001" y="1047.4707">af_core.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="1127.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="1134.5" y="24.5332">stats_port.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="1127.5" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="1134.5" y="1047.4707">stats_port.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="1229.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1236.5" y="24.5332">af_single.c</text><rect fill="#FEFECE" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="1229.5" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1236.5" y="1047.4707">af_single.c</text><rect fill="#00FF00" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="1489" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1496" y="24.5332">af_util.c</text><rect fill="#00FF00" filter="url(#f1xfccrwnbya4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="1489" y="1025.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1496" y="1047.4707">af_util.c</text><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1573" x="3" y="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="70.7852" y2="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="73.7852" y2="73.7852"/><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="168" x="705.5" y="59.6094"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="715.5" y="77.1045">where sw stats comes?</text><polygon fill="#A80036" points="186,111.9609,196,115.9609,186,119.9609,190,115.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="192" y1="115.9609" y2="115.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="10" y="111.4561">img_algo_process</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="198" x2="240" y1="146.6641" y2="146.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="240" x2="240" y1="146.6641" y2="159.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="240" y1="159.6641" y2="159.6641"/><polygon fill="#A80036" points="209,155.6641,199,159.6641,209,163.6641,205,159.6641" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="205" y="141.8076">QCameraPAAF::processData</text><polygon fill="#FBFB77" filter="url(#f1xfccrwnbya4n)" points="8,172.6641,8,198.6641,385,198.6641,385,182.6641,375,172.6641,8,172.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="375" x2="375" y1="172.6641" y2="182.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="385" x2="375" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="356" x="14" y="191.1592">Step1:Get PAAF cfg info from meta(IMG_META_PAAF_CFG)</text><rect fill="none" height="159.5938" style="stroke: #000000; stroke-width: 2.0;" width="347.5" x="107" y="215.0156"/><polygon fill="#EEEEEE" points="107,215.0156,168,215.0156,168,223.0156,158,233.0156,107,233.0156,107,215.0156" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="122" y="229.5107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="183" y="228.4346">[FIR filter]</text><polygon fill="#A80036" points="371,251.3672,381,255.3672,371,259.3672,375,255.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198" x2="377" y1="255.3672" y2="255.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="205" y="250.8623">FIR_Frame</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="107" x2="454.5" y1="264.7188" y2="264.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="112" y="276.1377">[IIR filter]</text><rect fill="none" height="81.0547" style="stroke: #000000; stroke-width: 2.0;" width="327.5" x="117" y="286.5547"/><polygon fill="#EEEEEE" points="117,286.5547,178,286.5547,178,294.5547,168,304.5547,117,304.5547,117,286.5547" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="132" y="301.0498">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="193" y="299.9736">[ifdef NEON_OPTIMIZATION]</text><polygon fill="#A80036" points="371,322.9063,381,326.9063,371,330.9063,375,326.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198" x2="377" y1="326.9063" y2="326.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="205" y="322.4014">af_sw_stats_iir_float_neon</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="117" x2="444.5" y1="336.2578" y2="336.2578"/><polygon fill="#A80036" points="371,355.2578,381,359.2578,371,363.2578,375,359.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198" x2="377" y1="359.2578" y2="359.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="205" y="354.7529">af_sw_stats_iir_float</text><polygon fill="#FBFB77" filter="url(#f1xfccrwnbya4n)" points="21,386.6094,21,412.6094,370,412.6094,370,396.6094,360,386.6094,21,386.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="360" x2="360" y1="386.6094" y2="396.6094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="370" x2="360" y1="396.6094" y2="396.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="27" y="405.1045">return PAAF info into meta(IMG_META_PAAF_RESULT)</text><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1573" x="3" y="443.1367"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="443.1367" y2="443.1367"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="446.1367" y2="446.1367"/><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="179" x="700" y="431.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="706" y="449.4561">how af port get sw stats ?</text><ellipse cx="10.5" cy="487.5625" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="469.5,484.3125,479.5,488.3125,469.5,492.3125,473.5,488.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="475.5" y1="488.3125" y2="488.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="18" y="483.8076">msg</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="276" x="47" y="483.8076">MCT_EVENT_MODULE_IMGLIB_AF_OUTPUT</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="481.5" x2="523.5" y1="519.0156" y2="519.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="523.5" x2="523.5" y1="519.0156" y2="532.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="482.5" x2="523.5" y1="532.0156" y2="532.0156"/><polygon fill="#A80036" points="492.5,528.0156,482.5,532.0156,492.5,536.0156,488.5,532.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="488.5" y="514.1592">af_port_handle_imglib_output</text><polygon fill="#A80036" points="733.5,558.0156,743.5,562.0156,733.5,566.0156,737.5,562.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="481.5" x2="739.5" y1="562.0156" y2="562.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="488.5" y="557.5107">msg AF_SET_PARAM_IMGLIB_OUTPUT</text><polygon fill="#A80036" points="1020.5,588.3672,1030.5,592.3672,1020.5,596.3672,1024.5,592.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="745.5" x2="1026.5" y1="592.3672" y2="592.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="752.5" y="587.8623">AF_CORE_SET_PARAM_PREVIEW_STATS</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1032.5" x2="1074.5" y1="623.0703" y2="623.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1074.5" x2="1074.5" y1="623.0703" y2="636.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1033.5" x2="1074.5" y1="636.0703" y2="636.0703"/><polygon fill="#A80036" points="1043.5,632.0703,1033.5,636.0703,1043.5,640.0703,1039.5,636.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1039.5" y="618.2139">af_core_preview_stats</text><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1573" x="3" y="665.2461"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="665.2461" y2="665.2461"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="668.2461" y2="668.2461"/><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="252" x="663.5" y="654.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="234" x="669.5" y="671.5654">which param decide where use this?</text><ellipse cx="10.5" cy="709.6719" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1161.5,706.4219,1171.5,710.4219,1161.5,714.4219,1165.5,710.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="1167.5" y1="710.4219" y2="710.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="18" y="705.917">msg CAM_INTF_PARM_STATS_AF_PAAF</text><polygon fill="#A80036" points="756.5,736.7734,746.5,740.7734,756.5,744.7734,752.5,740.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="750.5" x2="1172.5" y1="740.7734" y2="740.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="762.5" y="736.2686">msg AF_SET_PARAM_PAAF</text><polygon fill="#FBFB77" filter="url(#f1xfccrwnbya4n)" points="639,754.125,639,780.125,847,780.125,847,764.125,837,754.125,639,754.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="837" x2="837" y1="754.125" y2="764.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="837" y1="764.125" y2="764.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="645" y="772.6201">set force_paaf_enable=true/false</text><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1573" x="3" y="810.6523"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="810.6523" y2="810.6523"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1576" y1="813.6523" y2="813.6523"/><rect fill="#EEEEEE" filter="url(#f1xfccrwnbya4n)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="172" x="703.5" y="799.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="709.5" y="816.9717">which algo use this stats</text><ellipse cx="10.5" cy="855.0781" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1260.5,851.8281,1270.5,855.8281,1260.5,859.8281,1264.5,855.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="1266.5" y1="855.8281" y2="855.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="18" y="851.3232">af_single_start_srch</text><polygon fill="#FBFB77" filter="url(#f1xfccrwnbya4n)" points="1207,869.1797,1207,895.1797,1334,895.1797,1334,879.1797,1324,869.1797,1207,869.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1324" x2="1324" y1="869.1797" y2="879.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1334" x2="1324" y1="879.1797" y2="879.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1213" y="887.6748">ignore other flow...</text><rect fill="#FFFFFF" filter="url(#f1xfccrwnbya4n)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="328" x="1226.5" y="904.5313"/><polygon fill="#EEEEEE" points="1226.5,904.5313,1288.5,904.5313,1288.5,912.5313,1278.5,922.5313,1226.5,922.5313,1226.5,904.5313" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1239.5" y="920.0264">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="1232.5" y="940.0264">usePaaf=(tuning-&gt;PAAF_enable)&amp;&amp;(force_paaf_enable)</text><rect fill="none" height="50.7031" style="stroke: #000000; stroke-width: 2.0;" width="346.5" x="1219.5" y="959.2344"/><polygon fill="#EEEEEE" points="1219.5,959.2344,1280.5,959.2344,1280.5,967.2344,1270.5,977.2344,1219.5,977.2344,1219.5,959.2344" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="1234.5" y="973.7295">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="1295.5" y="972.6533">[over af_single: if usePaaf=True]</text><polygon fill="#A80036" points="1510.5,995.5859,1520.5,999.5859,1510.5,1003.5859,1514.5,999.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1272.5" x2="1516.5" y1="999.5859" y2="999.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="1279.5" y="995.0811">af_util_sw_stats_switch</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1219.5" x2="1566" y1="1008.9375" y2="1008.9375"/><!--
@startuml
participant QCameraPAAF.cpp as QCameraPAAF
participant af_sw_stats.c as af_sw_stats
participant af_port.c as af_port
participant af_biz.c as af_biz
participant af_core.c as af_core
participant stats_port.c as stats_port
participant af_single.c as af_single
participant af_util.c as af_util #00FF00

== <color #ff0000> where sw stats comes? </color>==
[->QCameraPAAF: img_algo_process
QCameraPAAF->QCameraPAAF: QCameraPAAF::processData

note over QCameraPAAF : Step1:Get PAAF cfg info from meta(IMG_META_PAAF_CFG) 

alt FIR filter
  QCameraPAAF->af_sw_stats: FIR_Frame
else IIR filter
  alt ifdef NEON_OPTIMIZATION
    QCameraPAAF->af_sw_stats:af_sw_stats_iir_float_neon
  else
    QCameraPAAF->af_sw_stats:af_sw_stats_iir_float
  end
end

note over QCameraPAAF: return PAAF info into meta(IMG_META_PAAF_RESULT)

== how af port get sw stats ? ==
[o->af_port: msg **MCT_EVENT_MODULE_IMGLIB_AF_OUTPUT**
af_port->af_port: af_port_handle_imglib_output
af_port->af_biz: msg AF_SET_PARAM_IMGLIB_OUTPUT
af_biz->af_core: AF_CORE_SET_PARAM_PREVIEW_STATS
af_core->af_core: af_core_preview_stats

== which param decide where use this? ==
[o->stats_port: msg CAM_INTF_PARM_STATS_AF_PAAF
stats_port->af_biz: msg AF_SET_PARAM_PAAF
note over af_biz: set force_paaf_enable=true/false

== which algo use this stats ==
[o->af_single:af_single_start_srch
note over af_single: ignore other flow...
ref over af_single: usePaaf=(tuning->PAAF_enable)&&(force_paaf_enable)
alt over af_single: if usePaaf=True
af_single->af_util: af_util_sw_stats_switch

else
end
@enduml

PlantUML version 1.2017.20(Tue Dec 12 00:57:05 CST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_151-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>