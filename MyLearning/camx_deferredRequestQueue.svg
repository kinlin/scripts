<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2047px" preserveAspectRatio="none" style="width:1177px;height:2047px;" version="1.1" viewBox="0 0 1177 2047" width="1177px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rtnzzp4yo96u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="200" x="484.25" y="26.708">camx DRQ overview</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="573.75" y="43.9482">Lin Jin</text><rect fill="#DDDDDD" height="1980.8984" style="stroke: #A80036; stroke-width: 1.0;" width="220" x="352" y="55.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="446" y="67.3169">DRQ</text><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="703.5859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="254" y="1276.1328"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="279.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="183.8125"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="612.3906" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="535.6719"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="98.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462" y="572.8047"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="365.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462" y="739.4688"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467" y="1022.6641"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="309.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="1374.5313"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="202.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462" y="1436.1953"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="230.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="1713.3906"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="29.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="755" y="272.9453"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="890" y="331.7422"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="29.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1016" y="405.0078"/><rect fill="#FF0000" filter="url(#f1rtnzzp4yo96u)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1128" y="606.9375"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="426.7266" style="stroke: #000000; stroke-width: 2.0;" width="446" x="346" y="693.3359"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="301" x="467" y="759.6016"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="315" x="467" y="829.8672"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="286" x="467" y="900.1328"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="660.3203" style="stroke: #000000; stroke-width: 2.0;" width="598" x="177" y="1291.3984"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="266.1953" style="stroke: #000000; stroke-width: 2.0;" width="578" x="187" y="1390.0625"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="17.1328" style="stroke: #000000; stroke-width: 2.0;" width="300" x="215" y="1456.3281"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="17.1328" style="stroke: #000000; stroke-width: 2.0;" width="282" x="215" y="1487.4609"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="529" x="197" y="1518.5938"/><rect fill="#FFFFFF" height="2" style="stroke: none; stroke-width: 1.0;" width="578" x="187" y="1654.2578"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="365" x="283" y="1728.5234"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="390" x="267" y="1829.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="259" y1="109.6797" y2="1156.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="259" x2="259" y1="1156.1953" y2="1197"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="259" y1="1197" y2="1997.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="462" x2="462" y1="109.6797" y2="1156.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="462" x2="462" y1="1156.1953" y2="1197"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="462" x2="462" y1="1197" y2="1997.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="759.5" x2="759.5" y1="109.6797" y2="1156.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="759.5" x2="759.5" y1="1156.1953" y2="1197"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="759.5" x2="759.5" y1="1197" y2="1997.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="109.6797" y2="1156.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="894.5" x2="894.5" y1="1156.1953" y2="1197"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="1197" y2="1997.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1020.5" x2="1020.5" y1="109.6797" y2="1156.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1020.5" x2="1020.5" y1="1156.1953" y2="1197"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1020.5" x2="1020.5" y1="1197" y2="1997.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1132.5" y1="109.6797" y2="1156.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1132.5" x2="1132.5" y1="1156.1953" y2="1197"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1132.5" y1="1197" y2="1997.8516"/><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="205" y="74.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="212" y="94.3779">camxpipeline</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="205" y="1996.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="212" y="2016.8467">camxpipeline</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="356" y="74.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="194" x="363" y="94.3779">camxdeferredrequestqueue</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="356" y="1996.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="194" x="363" y="2016.8467">camxdeferredrequestqueue</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="676.5" y="74.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="683.5" y="94.3779">camx_threadmanager</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="676.5" y="1996.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="683.5" y="2016.8467">camx_threadmanager</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="853.5" y="74.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="860.5" y="94.3779">Hashmap</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="853.5" y="1996.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="860.5" y="2016.8467">Hashmap</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="946.5" y="74.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="953.5" y="94.3779">camxmetadatapool</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="946.5" y="1996.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="953.5" y="2016.8467">camxmetadatapool</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="1105.5" y="74.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1112.5" y="94.3779">Node</text><rect fill="#FEFECE" filter="url(#f1rtnzzp4yo96u)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="1105.5" y="1996.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1112.5" y="2016.8467">Node</text><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="703.5859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="254" y="1276.1328"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="279.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="183.8125"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="612.3906" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="535.6719"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="98.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462" y="572.8047"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="365.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462" y="739.4688"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="467" y="1022.6641"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="309.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="1374.5313"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="202.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462" y="1436.1953"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="230.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457" y="1713.3906"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="29.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="755" y="272.9453"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="890" y="331.7422"/><rect fill="#FFFFFF" filter="url(#f1rtnzzp4yo96u)" height="29.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1016" y="405.0078"/><rect fill="#FF0000" filter="url(#f1rtnzzp4yo96u)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1128" y="606.9375"/><rect fill="#EEEEEE" filter="url(#f1rtnzzp4yo96u)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1162.5" x="3" y="140.2461"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1165.5" y1="140.2461" y2="140.2461"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1165.5" y1="143.2461" y2="143.2461"/><rect fill="#EEEEEE" filter="url(#f1rtnzzp4yo96u)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="85" x="541.75" y="129.6797"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="552.75" y="145.7466">Initialize</text><ellipse cx="10.5" cy="183.0625" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="445,179.8125,455,183.8125,445,187.8125,449,183.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="451" y1="183.8125" y2="183.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="18" y="178.8794">DeferredRequestQueue::Initialize()</text><polygon fill="#A80036" points="743,268.9453,753,272.9453,743,276.9453,747,272.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="749" y1="272.9453" y2="272.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="474" y="208.0122">RegisterJobFamily</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="607" y="208.0122">(</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="474" y="223.145">DeferredWorkerWrapper</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="657" y="223.145">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="474" y="238.2778">DeferredWorkerWrapper%d</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="474" y="253.4106">JobPriority::Normal,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="474" y="268.5435">&amp;m_hDeferredWorker)</text><polygon fill="#A80036" points="478,298.6094,468,302.6094,478,306.6094,474,302.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="759" y1="302.6094" y2="302.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="484" y="297.6763">return</text><polygon fill="#A80036" points="878,327.7422,888,331.7422,878,335.7422,882,331.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="884" y1="331.7422" y2="331.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="474" y="326.8091">Hashmap::Create()</text><polygon fill="#A80036" points="478,356.875,468,360.875,478,364.875,474,360.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="894" y1="360.875" y2="360.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="484" y="355.9419">return</text><polygon fill="#A80036" points="1004,401.0078,1014,405.0078,1004,409.0078,1008,405.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="1010" y1="405.0078" y2="405.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="474" y="385.0747">SubscribeAll</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="565" y="385.0747">(&lt;IPropertyPoolObserver*&gt;(this),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="474" y="400.2075">"DeferredRequestQueue")</text><polygon fill="#A80036" points="478,430.2734,468,434.2734,478,438.2734,474,434.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="1020" y1="434.2734" y2="434.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="484" y="429.3403">reture</text><polygon fill="#A80036" points="22,459.4063,12,463.4063,22,467.4063,18,463.4063" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="461.5" cy="462.6563" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="16" x2="457" y1="463.4063" y2="463.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="28" y="458.4731">return</text><rect fill="#EEEEEE" filter="url(#f1rtnzzp4yo96u)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1162.5" x="3" y="492.1055"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1165.5" y1="492.1055" y2="492.1055"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1165.5" y1="495.1055" y2="495.1055"/><rect fill="#EEEEEE" filter="url(#f1rtnzzp4yo96u)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="98" x="535.25" y="481.5391"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="541.25" y="497.606">Thread job</text><polygon fill="#A80036" points="478,531.6719,468,535.6719,478,539.6719,474,535.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="759" y1="535.6719" y2="535.6719"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="484" y="530.7388">DeferredWorkerWrapper</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="514" y1="559.9375" y2="559.9375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="514" y1="559.9375" y2="572.9375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="473" x2="514" y1="572.9375" y2="572.9375"/><polygon fill="#A80036" points="483,568.9375,473,572.9375,483,576.9375,479,572.9375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="479" y="554.8716">DeferredWorkerCore</text><polygon fill="#A80036" points="1116,602.9375,1126,606.9375,1116,610.9375,1120,606.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="1122" y1="606.9375" y2="606.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="479" y="602.0044">ProcessRequest</text><polygon fill="#A80036" points="483,632.0703,473,636.0703,483,640.0703,479,636.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477" x2="1132" y1="636.0703" y2="636.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="489" y="631.1372">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="514" y1="670.3359" y2="670.3359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="514" y1="670.3359" y2="683.3359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="514" y1="683.3359" y2="683.3359"/><polygon fill="#A80036" points="477,679.3359,467,683.3359,477,687.3359,473,683.3359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="479" y="665.27">return</text><rect fill="none" height="426.7266" style="stroke: #000000; stroke-width: 2.0;" width="446" x="346" y="693.3359"/><polygon fill="#EEEEEE" points="346,693.3359,423,693.3359,423,700.3359,413,710.3359,346,710.3359,346,693.3359" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="361" y="706.4028">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="252" x="438" y="705.5464">[processRequest.numDependencyLists]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="514" y1="726.6016" y2="726.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="514" y1="726.6016" y2="739.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="473" x2="514" y1="739.6016" y2="739.6016"/><polygon fill="#A80036" points="483,735.6016,473,739.6016,483,743.6016,479,739.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="479" y="721.5356">AddDeferredNode</text><rect fill="none" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="301" x="467" y="759.6016"/><polygon fill="#EEEEEE" points="467,759.6016,531,759.6016,531,766.6016,521,776.6016,467,776.6016,467,759.6016" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="482" y="772.6685">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="546" y="771.812">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207" x="551" y="771.812">TRUE==hasPropertyDependency</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="758" y="771.812">]</text><polygon fill="#FBFB77" filter="url(#f1rtnzzp4yo96u)" points="477,781.7344,477,806.7344,679,806.7344,679,791.7344,669,781.7344,477,781.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="669" x2="669" y1="781.7344" y2="791.7344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="669" y1="791.7344" y2="791.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="483" y="798.8013">call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="508" y="798.8013">GetUnpublishedList()</text><rect fill="none" height="56.2656" style="stroke: #000000; stroke-width: 2.0;" width="315" x="467" y="829.8672"/><polygon fill="#EEEEEE" points="467,829.8672,531,829.8672,531,836.8672,521,846.8672,467,846.8672,467,829.8672" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="482" y="842.9341">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="546" y="842.0776">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="551" y="842.0776">TRUE==hasBufferDependency</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="744" y="842.0776">]</text><polygon fill="#FBFB77" filter="url(#f1rtnzzp4yo96u)" points="477,852,477,877,768,877,768,862,758,852,477,852" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="758" x2="758" y1="852" y2="862"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="768" x2="758" y1="862" y2="862"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="483" y="869.0669">pDependency-&gt;phFences[fenceCount++]</text><rect fill="none" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="286" x="467" y="900.1328"/><polygon fill="#EEEEEE" points="467,900.1328,531,900.1328,531,907.1328,521,917.1328,467,917.1328,467,900.1328" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="482" y="913.1997">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="546" y="912.3433">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="551" y="912.3433">TRUE==hasFenceDependency</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="743" y="912.3433">]</text><polygon fill="#FBFB77" filter="url(#f1rtnzzp4yo96u)" points="477,922.2656,477,977.2656,697,977.2656,697,932.2656,687,922.2656,477,922.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="687" x2="687" y1="922.2656" y2="932.2656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="697" x2="687" y1="932.2656" y2="932.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="483" y="939.3325">pChiFences[chiFenceCount++]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="483" y="954.4653">pChiFenceCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="483" y="969.5981">pUserData</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="519" y1="1009.7969" y2="1009.7969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="519" x2="519" y1="1009.7969" y2="1022.7969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="478" x2="519" y1="1022.7969" y2="1022.7969"/><polygon fill="#A80036" points="488,1018.7969,478,1022.7969,488,1026.7969,484,1022.7969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172" x="484" y="1004.731">AddDependencyEntry()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="477" x2="519" y1="1061.9297" y2="1061.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="519" x2="519" y1="1061.9297" y2="1074.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="519" y1="1074.9297" y2="1074.9297"/><polygon fill="#A80036" points="482,1070.9297,472,1074.9297,482,1078.9297,478,1074.9297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="484" y="1056.8638">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="514" y1="1104.0625" y2="1104.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="514" y1="1104.0625" y2="1117.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="514" y1="1117.0625" y2="1117.0625"/><polygon fill="#A80036" points="477,1113.0625,467,1117.0625,477,1121.0625,473,1117.0625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="479" y="1098.9966">return</text><polygon fill="#A80036" points="748,1144.0625,758,1148.0625,748,1152.0625,752,1148.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="462" x2="754" y1="1148.0625" y2="1148.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="469" y="1143.1294">return</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="698" y="1180.4058"/><rect fill="#EEEEEE" filter="url(#f1rtnzzp4yo96u)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1162.5" x="3" y="1217.5664"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1165.5" y1="1217.5664" y2="1217.5664"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1165.5" y1="1220.5664" y2="1220.5664"/><rect fill="#EEEEEE" filter="url(#f1rtnzzp4yo96u)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="181" x="493.75" y="1207"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="499.75" y="1223.0669">Pipeline-&gt;DRQ-&gt;Node</text><polygon fill="#A80036" points="242,1272.1328,252,1276.1328,242,1280.1328,246,1276.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="248" y1="1276.1328" y2="1276.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="10" y="1256.1997">ProcessRequest</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="10" y="1271.3325">(PipelineProcessRequestData*)</text><rect fill="none" height="660.3203" style="stroke: #000000; stroke-width: 2.0;" width="598" x="177" y="1291.3984"/><polygon fill="#EEEEEE" points="177,1291.3984,254,1291.3984,254,1298.3984,244,1308.3984,177,1308.3984,177,1291.3984" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="192" y="1304.4653">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="269" y="1303.6089">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="274" y="1303.6089">m_nodeCount</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="361" y="1303.6089">]</text><polygon fill="#A80036" points="445,1370.5313,455,1374.5313,445,1378.5313,449,1374.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="264" x2="451" y1="1374.5313" y2="1374.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="271" y="1324.5981">AddDeferredNode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="271" y="1339.731">(requestId,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="271" y="1354.8638">m_ppNodes[i],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="271" y="1369.9966">(pDependencyUnit=)NULL)</text><rect fill="none" height="266.1953" style="stroke: #000000; stroke-width: 2.0;" width="578" x="187" y="1390.0625"/><polygon fill="#EEEEEE" points="187,1390.0625,251,1390.0625,251,1397.0625,241,1407.0625,187,1407.0625,187,1390.0625" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="202" y="1403.1294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="266" y="1402.2729">[pDependencyUnit==NULL]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="514" y1="1423.3281" y2="1423.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="514" y1="1423.3281" y2="1436.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="473" x2="514" y1="1436.3281" y2="1436.3281"/><polygon fill="#A80036" points="483,1432.3281,473,1436.3281,483,1440.3281,479,1436.3281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="274" x="479" y="1418.2622">AddDependencyEntry(pDependency)</text><rect fill="none" height="17.1328" style="stroke: #000000; stroke-width: 2.0;" width="300" x="215" y="1456.3281"/><polygon fill="#EEEEEE" points="215,1456.3281,292,1456.3281,292,1463.3281,282,1473.3281,215,1473.3281,215,1456.3281" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="230" y="1469.395">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="203" x="307" y="1468.5386">[pDependency-&gt;propertyCount]</text><rect fill="none" height="17.1328" style="stroke: #000000; stroke-width: 2.0;" width="282" x="215" y="1487.4609"/><polygon fill="#EEEEEE" points="215,1487.4609,292,1487.4609,292,1494.4609,282,1504.4609,215,1504.4609,215,1487.4609" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="230" y="1500.5278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185" x="307" y="1499.6714">[pDependency-&gt;fenceCount]</text><rect fill="none" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="529" x="197" y="1518.5938"/><polygon fill="#EEEEEE" points="197,1518.5938,274,1518.5938,274,1525.5938,264,1535.5938,197,1535.5938,197,1518.5938" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="212" y="1531.6606">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207" x="289" y="1530.8042">[pDependency-&gt;chiFenceCount]</text><polygon fill="#FBFB77" filter="url(#f1rtnzzp4yo96u)" points="207,1540.7266,207,1595.7266,712,1595.7266,712,1550.7266,702,1540.7266,207,1540.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="702" x2="702" y1="1540.7266" y2="1550.7266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="712" x2="702" y1="1550.7266" y2="1550.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="213" y="1557.7935">ChiFences type == ChiFenceTypeInternal</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="213" y="1572.9263">result=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="437" x="260" y="1572.9263">CSLFenceAsycWait(pDependency-&gt;pChiFences[i]-&gt;hFence,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="241" y="1588.0591"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="336" x="241" y="1588.0591">&amp;this-&gt;DependencyFenceCallbackCSL,pData)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="472" x2="514" y1="1638.2578" y2="1638.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="514" y1="1638.2578" y2="1651.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="467" x2="514" y1="1651.2578" y2="1651.2578"/><polygon fill="#A80036" points="477,1647.2578,467,1651.2578,477,1655.2578,473,1651.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="479" y="1633.1919">return</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="187" x2="765" y1="1655.2578" y2="1655.2578"/><polygon fill="#A80036" points="275,1680.2578,265,1684.2578,275,1688.2578,271,1684.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="269" x2="461" y1="1684.2578" y2="1684.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="281" y="1679.3247">return</text><polygon fill="#A80036" points="445,1709.3906,455,1713.3906,445,1717.3906,449,1713.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="264" x2="451" y1="1713.3906" y2="1713.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="170" x="271" y="1708.4575">DispatchReadyNodes()</text><rect fill="none" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="365" x="283" y="1728.5234"/><polygon fill="#EEEEEE" points="283,1728.5234,347,1728.5234,347,1735.5234,337,1745.5234,283,1745.5234,283,1728.5234" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="298" y="1741.5903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="362" y="1740.7339">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="271" x="367" y="1740.7339">TRUE == m_isPreemptDependencyEnabled</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="638" y="1740.7339">]</text><polygon fill="#FBFB77" filter="url(#f1rtnzzp4yo96u)" points="293,1750.6563,293,1805.6563,627,1805.6563,627,1760.6563,617,1750.6563,293,1750.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="617" x2="617" y1="1750.6563" y2="1760.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627" x2="617" y1="1760.6563" y2="1760.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="313" x="299" y="1767.7231">If preempt dependency enabled and dependency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="299" y="1782.856">registered for preemption clear node</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="299" y="1797.9888">dependency in deferred list first.</text><rect fill="none" height="86.5313" style="stroke: #000000; stroke-width: 2.0;" width="390" x="267" y="1829.0547"/><polygon fill="#EEEEEE" points="267,1829.0547,344,1829.0547,344,1836.0547,334,1846.0547,267,1846.0547,267,1829.0547" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="282" y="1842.1216">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185" x="359" y="1841.2651">[m_readyNodes.NumNodes()]</text><polygon fill="#FBFB77" filter="url(#f1rtnzzp4yo96u)" points="277,1851.1875,277,1906.1875,643,1906.1875,643,1861.1875,633,1851.1875,277,1851.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="633" y1="1851.1875" y2="1861.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="643" x2="633" y1="1861.1875" y2="1861.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="283" y="1868.2544">1. pDependency-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="403" y="1868.2544">pChiFenceCallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="543" y="1868.2544">()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="345" x="283" y="1883.3872">2. m_pThreadManager-&gt;PostJob(m_hDeferredWorker)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="295" y="1898.52">This callback is</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="393" y="1898.52">DeferredWorkerWrapper</text><polygon fill="#A80036" points="275,1939.5859,265,1943.5859,275,1947.5859,271,1943.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="269" x2="461" y1="1943.5859" y2="1943.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="281" y="1938.6528">return</text><polygon fill="#A80036" points="14,1975.7188,4,1979.7188,14,1983.7188,10,1979.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="8" x2="258" y1="1979.7188" y2="1979.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="20" y="1974.7856">return</text><!--
@startuml
title <size:18>camx DRQ overview</size>\n     Lin Jin


participant camxpipeline
box "DRQ"
participant camxdeferredrequestqueue as camx_drq
end box
participant camx_threadmanager
participant Hashmap
participant camxmetadatapool as camx_metapool
participant Node

== <color:blue> Initialize </color>==
[o->camx_drq: DeferredRequestQueue::Initialize()
activate camx_drq
  camx_drq->camx_threadmanager: **RegisterJobFamily**(\n<color:red>**DeferredWorkerWrapper**</color>,\nDeferredWorkerWrapper%d\nJobPriority::Normal,\n&m_hDeferredWorker)
  activate camx_threadmanager
  camx_threadmanager->camx_drq: return
  deactivate camx_threadmanager

  camx_drq->Hashmap: Hashmap::Create()
  activate Hashmap
  Hashmap->camx_drq: return
  deactivate Hashmap

  camx_drq->camx_metapool: **SubscribeAll**(<IPropertyPoolObserver*>(this),\n"DeferredRequestQueue")
  activate camx_metapool
  camx_metapool->camx_drq: reture
  deactivate camx_metapool
[o<-camx_drq: return
deactivate camx_drq

== <color:blue>Thread job </color>==
camx_threadmanager->camx_drq: <color:red>**DeferredWorkerWrapper**</color>
activate camx_drq
  camx_drq->camx_drq: **DeferredWorkerCore**
  activate camx_drq
    camx_drq->Node: **ProcessRequest**
    activate Node #Red
    Node->camx_drq: return
    deactivate Node
  camx_drq->camx_drq: return
  deactivate camx_drq

  loop processRequest.numDependencyLists
    camx_drq->camx_drq: AddDeferredNode
    activate camx_drq
      alt **TRUE==hasPropertyDependency**
        note right camx_drq
          call **GetUnpublishedList()**
        end note
      end
      alt **TRUE==hasBufferDependency**
        note right camx_drq
          pDependency->phFences[fenceCount++]
        end note
      end
      alt **TRUE==hasFenceDependency**
        note right camx_drq
          pChiFences[chiFenceCount++]
          pChiFenceCallback
          pUserData
        end note
      end
      camx_drq->camx_drq: **AddDependencyEntry()**
      activate camx_drq
      camx_drq->camx_drq: return
      deactivate camx_drq
    camx_drq->camx_drq: return
    deactivate camx_drq
  end loop

camx_drq->camx_threadmanager: return
deactivate camx_drq

... ...
== <color:blue>Pipeline->DRQ->Node </color>==
[->camxpipeline: **ProcessRequest**\n**(PipelineProcessRequestData*)**
activate camxpipeline
  loop **m_nodeCount**
    camxpipeline->camx_drq: **AddDeferredNode**\n(requestId,\nm_ppNodes[i],\n(pDependencyUnit=)NULL)
    activate camx_drq

      alt pDependencyUnit==NULL
        camx_drq->camx_drq: **AddDependencyEntry(pDependency)**
        activate camx_drq
          loop pDependency->propertyCount
          end loop

          loop pDependency->fenceCount
          end loop

          loop pDependency->chiFenceCount
            note over camx_drq
              ChiFences type == ChiFenceTypeInternal
              result=**CSLFenceAsycWait(pDependency->pChiFences[i]->hFence,**
                     **&this->DependencyFenceCallbackCSL,pData)**
            end note
          end loop
        camx_drq->camx_drq: return
        deactivate camx_drq
      else

      end

    camx_drq->camxpipeline: return
    deactivate camx_drq

    camxpipeline->camx_drq: **DispatchReadyNodes()**
    activate camx_drq
      alt **TRUE == m_isPreemptDependencyEnabled**
        note over camx_drq
          If preempt dependency enabled and dependency
          registered for preemption clear node
          dependency in deferred list first.
        end note
      end
      loop m_readyNodes.NumNodes()
        note over camx_drq
          1. pDependency->**pChiFenceCallback**()
          2. m_pThreadManager->PostJob(m_hDeferredWorker)
             This callback is **DeferredWorkerWrapper**
        end note
      end loop
    camx_drq->camxpipeline: return
    deactivate camx_drq
  end loop
[<-camxpipeline: return
deactivate camxpipeline
@enduml

PlantUML version 1.2017.20(Mon Dec 11 16:57:05 GMT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_171-8u171-b11-0ubuntu0.16.04.1-b11
Operating System: Linux
OS Version: 4.4.0-43-Microsoft
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>