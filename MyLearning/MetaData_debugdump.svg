<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1287px" preserveAspectRatio="none" style="width:916px;height:1287px;" version="1.1" viewBox="0 0 916 1287" width="916px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fvxu982i09yx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="194" x="356.5" y="26.708">Metadata overview</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="443" y="43.9482">Lin Jin</text><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="183.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="252" y="163.8125"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="68.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="252" y="933.0156"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="102.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452" y="417.4141"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="230.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452" y="632.8828"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="114.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="651" y="1071.2188"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="140.5313" style="stroke: #000000; stroke-width: 2.0;" width="363" x="94" y="178.8125"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="340" x="393" y="432.4141"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="71.3984" style="stroke: #000000; stroke-width: 2.0;" width="340" x="364" y="647.8828"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="101.6641" style="stroke: #000000; stroke-width: 2.0;" width="603" x="155" y="733.2813"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="71.3984" style="stroke: #000000; stroke-width: 2.0;" width="387" x="507" y="1086.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257" x2="257" y1="89.5469" y2="355.4766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="257" x2="257" y1="355.4766" y2="396.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257" x2="257" y1="396.2813" y2="527.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="257" x2="257" y1="527.8125" y2="568.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257" x2="257" y1="568.6172" y2="871.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="257" x2="257" y1="871.0781" y2="911.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257" x2="257" y1="911.8828" y2="1009.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="257" x2="257" y1="1009.2813" y2="1050.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257" x2="257" y1="1050.0859" y2="1246.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457" x2="457" y1="89.5469" y2="355.4766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="457" x2="457" y1="355.4766" y2="396.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457" x2="457" y1="396.2813" y2="527.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="457" x2="457" y1="527.8125" y2="568.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457" x2="457" y1="568.6172" y2="871.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="457" x2="457" y1="871.0781" y2="911.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457" x2="457" y1="911.8828" y2="1009.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="457" x2="457" y1="1009.2813" y2="1050.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457" x2="457" y1="1050.0859" y2="1246.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="655.5" y1="89.5469" y2="355.4766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="655.5" x2="655.5" y1="355.4766" y2="396.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="655.5" y1="396.2813" y2="527.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="655.5" x2="655.5" y1="527.8125" y2="568.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="655.5" y1="568.6172" y2="871.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="655.5" x2="655.5" y1="871.0781" y2="911.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="655.5" y1="911.8828" y2="1009.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="655.5" x2="655.5" y1="1009.2813" y2="1050.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="655.5" y1="1050.0859" y2="1246.8828"/><rect fill="#FEFECE" filter="url(#f1fvxu982i09yx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="203" y="54.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="210" y="74.2451">camxpipeline</text><rect fill="#FEFECE" filter="url(#f1fvxu982i09yx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="203" y="1245.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="210" y="1265.8779">camxpipeline</text><rect fill="#FEFECE" filter="url(#f1fvxu982i09yx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="403" y="54.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="410" y="74.2451">camxsession</text><rect fill="#FEFECE" filter="url(#f1fvxu982i09yx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="403" y="1245.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="410" y="1265.8779">camxsession</text><rect fill="#FEFECE" filter="url(#f1fvxu982i09yx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="207" x="550.5" y="54.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="557.5" y="74.2451">chifeature2baserequestflow</text><rect fill="#FEFECE" filter="url(#f1fvxu982i09yx)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="207" x="550.5" y="1245.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="557.5" y="1265.8779">chifeature2baserequestflow</text><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="183.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="252" y="163.8125"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="68.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="252" y="933.0156"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="102.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452" y="417.4141"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="230.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452" y="632.8828"/><rect fill="#FFFFFF" filter="url(#f1fvxu982i09yx)" height="114.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="651" y="1071.2188"/><rect fill="#EEEEEE" filter="url(#f1fvxu982i09yx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="901" x="3" y="120.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="904" y1="120.1133" y2="120.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="904" y1="123.1133" y2="123.1133"/><rect fill="#EEEEEE" filter="url(#f1fvxu982i09yx)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="238" x="334.5" y="109.5469"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="345.5" y="125.6138">When Init Debug Data Buffer</text><ellipse cx="10.5" cy="163.0625" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="240,159.8125,250,163.8125,240,167.8125,244,163.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="246" y1="163.8125" y2="163.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="18" y="158.7466">*Pipeline::ProcessRequest*</text><path d="M94,178.8125 L158,178.8125 L158,185.8125 L148,195.8125 L94,195.8125 L94,178.8125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="140.5313" style="stroke: #000000; stroke-width: 2.0;" width="363" x="94" y="178.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="109" y="191.8794">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="212" x="173" y="191.0229">[if *IsDebugDataEnable==TRUE*]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="262" x2="304" y1="217.0781" y2="217.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="304" x2="304" y1="217.0781" y2="230.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="304" y1="230.0781" y2="230.0781"/><polygon fill="#A80036" points="273,226.0781,263,230.0781,273,234.0781,269,230.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="269" y="212.0122">*InitializeDebugDataBuffer*</text><path d="M104,243.0781 L104,268.0781 L405,268.0781 L405,253.0781 L395,243.0781 L104,243.0781 " fill="#FBFB77" filter="url(#f1fvxu982i09yx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395,243.0781 L395,253.0781 L405,253.0781 L395,243.0781 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="110" y="260.145">AEC/AWB/AF/IFETuning/IPETuning/BPSTuning</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="262" x2="304" y1="298.3438" y2="298.3438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="304" x2="304" y1="298.3438" y2="311.3438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="304" y1="311.3438" y2="311.3438"/><polygon fill="#A80036" points="273,307.3438,263,311.3438,273,315.3438,269,311.3438" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="269" y="293.2778">return</text><polygon fill="#A80036" points="22,343.4766,12,347.4766,22,351.4766,18,347.4766" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="256.5" cy="346.7266" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="16" x2="252" y1="347.4766" y2="347.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="28" y="342.4106">return</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="458.5" y="379.687"/><ellipse cx="10.5" cy="416.6641" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="440,413.4141,450,417.4141,440,421.4141,444,417.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="446" y1="417.4141" y2="417.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="18" y="412.3481">session::initialize</text><path d="M393,432.4141 L457,432.4141 L457,439.4141 L447,449.4141 L393,449.4141 L393,432.4141 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="340" x="393" y="432.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="408" y="445.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="256" x="472" y="444.6245">[UseInternalDebugDataMemory==TRUE]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="462" x2="504" y1="470.6797" y2="470.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="504" x2="504" y1="470.6797" y2="483.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="463" x2="504" y1="483.6797" y2="483.6797"/><polygon fill="#A80036" points="473,479.6797,463,483.6797,473,487.6797,469,483.6797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="469" y="465.6138">*AllocateDebugDataPool()*</text><polygon fill="#A80036" points="22,515.8125,12,519.8125,22,523.8125,18,519.8125" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="456.5" cy="519.0625" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="16" x2="452" y1="519.8125" y2="519.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="28" y="514.7466">return</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="458.5" y="552.0229"/><rect fill="#EEEEEE" filter="url(#f1fvxu982i09yx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="901" x="3" y="589.1836"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="904" y1="589.1836" y2="589.1836"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="904" y1="592.1836" y2="592.1836"/><rect fill="#EEEEEE" filter="url(#f1fvxu982i09yx)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="107" x="400" y="578.6172"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="411" y="594.6841">哪里会执行dump</text><ellipse cx="10.5" cy="632.1328" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="440,628.8828,450,632.8828,440,636.8828,444,632.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="446" y1="632.8828" y2="632.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="18" y="627.8169">*session::ProcessCaptureRequest*</text><path d="M364,647.8828 L428,647.8828 L428,654.8828 L418,664.8828 L364,664.8828 L364,647.8828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="71.3984" style="stroke: #000000; stroke-width: 2.0;" width="340" x="364" y="647.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="379" y="660.9497">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="256" x="443" y="660.0933">[UseInternalDebugDataMemory==TRUE]</text><path d="M374,670.0156 L374,710.0156 L536,710.0156 L536,680.0156 L526,670.0156 L374,670.0156 " fill="#FBFB77" filter="url(#f1fvxu982i09yx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M526,670.0156 L526,680.0156 L536,680.0156 L526,670.0156 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="380" y="687.0825">GetDebugDataForSlot</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="380" y="702.2153">InitDebugDataSlot</text><path d="M155,733.2813 L219,733.2813 L219,740.2813 L209,750.2813 L155,750.2813 L155,733.2813 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="101.6641" style="stroke: #000000; stroke-width: 2.0;" width="603" x="155" y="733.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="170" y="746.3481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="150" x="234" y="745.4917">[pMetadataSlot!=NULL]</text><path d="M165,755.4141 L165,825.4141 L744,825.4141 L744,765.4141 L734,755.4141 L165,755.4141 " fill="#FBFB77" filter="url(#f1fvxu982i09yx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M734,755.4141 L734,765.4141 L744,765.4141 L734,755.4141 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="340" x="171" y="772.481">pMetadataSlot-&gt;AttachMetabuffer(pInputMetabuffer)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="391" x="171" y="787.6138">pResultMetadataSlot-&gt;AttachMetabuffer(pOutputMetabuffer)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="175" y="802.7466"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="558" x="171" y="817.8794">pInputMetabuffer-&gt;DumpDetailsToFile: 将不同Request(如两个realtime的)的Input Meta Dump出来</text><polygon fill="#A80036" points="22,859.0781,12,863.0781,22,867.0781,18,863.0781" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="456.5" cy="862.3281" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="16" x2="452" y1="863.0781" y2="863.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="28" y="858.0122">*return*</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="458.5" y="895.2886"/><ellipse cx="10.5" cy="932.2656" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="240,929.0156,250,933.0156,240,937.0156,244,933.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="246" y1="933.0156" y2="933.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="18" y="927.9497">*ProcessMetadataRequestIdDone*</text><path d="M185,946.0156 L185,971.0156 L325,971.0156 L325,956.0156 L315,946.0156 L185,946.0156 " fill="#FBFB77" filter="url(#f1fvxu982i09yx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M315,946.0156 L315,956.0156 L325,956.0156 L315,946.0156 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="191" y="963.0825">DumpDetailsToFile</text><polygon fill="#A80036" points="22,997.2813,12,1001.2813,22,1005.2813,18,1001.2813" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="256.5" cy="1000.5313" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="16" x2="252" y1="1001.2813" y2="1001.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="28" y="996.2153">return</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="458.5" y="1033.4917"/><ellipse cx="10.5" cy="1070.4688" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="639,1067.2188,649,1071.2188,639,1075.2188,643,1071.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="645" y1="1071.2188" y2="1071.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="18" y="1066.1528">*ExecuteFlowType0*</text><path d="M507,1086.2188 L571,1086.2188 L571,1093.2188 L561,1103.2188 L507,1103.2188 L507,1086.2188 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="71.3984" style="stroke: #000000; stroke-width: 2.0;" width="387" x="507" y="1086.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="522" y="1099.2856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="303" x="586" y="1098.4292">[EnableFeature2Dump &amp;&amp; GetFeatureId==B2Y]</text><path d="M517,1108.3516 L517,1148.3516 L790,1148.3516 L790,1118.3516 L780,1108.3516 L517,1108.3516 " fill="#FBFB77" filter="url(#f1fvxu982i09yx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M780,1108.3516 L780,1118.3516 L790,1118.3516 L780,1108.3516 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="523" y="1125.4185">DumpInputMetaBuffer(inputMetaInfo)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="523" y="1140.5513">DumpInputImageBuffer(inputBufferInfo)</text><polygon fill="#A80036" points="22,1181.75,12,1185.75,22,1189.75,18,1185.75" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="655.5" cy="1185" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="16" x2="651" y1="1185.75" y2="1185.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="28" y="1180.6841">return</text><rect fill="#EEEEEE" filter="url(#f1fvxu982i09yx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="901" x="3" y="1214.3164"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="904" y1="1214.3164" y2="1214.3164"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="904" y1="1217.3164" y2="1217.3164"/><rect fill="#EEEEEE" filter="url(#f1fvxu982i09yx)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="61" x="423" y="1203.75"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="434" y="1219.8169">topic</text><!--MD5=[b167e009c6ab2bf5818ee5c879f2599f]
@startuml
title <size:18>Metadata overview</size>\n     Lin Jin
participant camxpipeline
participant camxsession
participant chifeature2baserequestflow

== <color:blue> When Init Debug Data Buffer </color>==
[o->camxpipeline: *Pipeline::ProcessRequest*
activate camxpipeline
    alt if *IsDebugDataEnable==TRUE*
        camxpipeline->camxpipeline: *InitializeDebugDataBuffer*
        note over camxpipeline: AEC/AWB/AF/IFETuning/IPETuning/BPSTuning
        camxpipeline->camxpipeline: return
    end

[o<-camxpipeline: return
deactivate camxpipeline
... ...

[o->camxsession: **session::initialize**
activate camxsession
    alt UseInternalDebugDataMemory==TRUE
        camxsession->camxsession: *AllocateDebugDataPool()*
    end
[o<-camxsession: return
deactivate camxsession

... ...
== <color:blue> 哪里会执行dump </color>==
[o->camxsession: *session::ProcessCaptureRequest*
activate camxsession
    alt UseInternalDebugDataMemory==TRUE
        note over camxsession
        GetDebugDataForSlot
        InitDebugDataSlot
        end note
    end

    alt pMetadataSlot!=NULL
        note over camxsession
        pMetadataSlot->AttachMetabuffer(pInputMetabuffer)
        pResultMetadataSlot->AttachMetabuffer(pOutputMetabuffer)

        pInputMetabuffer->DumpDetailsToFile: 将不同Request(如两个realtime的)的Input Meta Dump出来
        end note
    end

[o<-camxsession: *return*
deactivate camxsession
... ...
[o->camxpipeline: *ProcessMetadataRequestIdDone*
activate camxpipeline
    note over camxpipeline
        DumpDetailsToFile
    end note
[o<-camxpipeline: return
deactivate camxpipeline

... ...
[o->chifeature2baserequestflow: *ExecuteFlowType0*
activate chifeature2baserequestflow
    alt EnableFeature2Dump && GetFeatureId==B2Y
        note over chifeature2baserequestflow
            DumpInputMetaBuffer(inputMetaInfo)
            DumpInputImageBuffer(inputBufferInfo)
        end note
    end
[o<-chifeature2baserequestflow: return
deactivate chifeature2baserequestflow
== <color:blue> topic </color>==

@enduml

PlantUML version 1.2020.00(Sat Jan 11 12:30:53 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Ubuntu-1ubuntu118.04.1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>