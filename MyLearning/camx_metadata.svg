<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1354px" preserveAspectRatio="none" style="width:711px;height:1354px;" version="1.1" viewBox="0 0 711 1354" width="711px" zoomAndPan="magnify"><defs><filter height="300%" id="f293rawbri8fh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="314.5" y="22.9951">metadata</text><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="1085.2891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="174.5" y="206.7266"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="980.3594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="179.5" y="268.5234"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="340.875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="184.5" y="334.7891"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="189.5" y="586.3984"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="87.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="411.5" y="413.9219"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="336.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="411.5" y="877.0234"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="170.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="416.5" y="968.4219"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="580" y="443.4531"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="1041.625" style="stroke: #000000; stroke-width: 2.0;" width="676" x="13" y="222.3906"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="490.9688" style="stroke: #000000; stroke-width: 2.0;" width="564.5" x="114.5" y="288.6563"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="124.8125" style="stroke: #000000; stroke-width: 2.0;" width="306" x="124.5" y="516.8516"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="564.5" x="114.5" y="690.7969"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="564.5" x="114.5" y="705.6016"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="564.5" x="114.5" y="720.4063"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="564.5" x="114.5" y="735.2109"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="564.5" x="114.5" y="750.0156"/><rect fill="#FFFFFF" height="14.8047" style="stroke: none; stroke-width: 1.0;" width="564.5" x="114.5" y="764.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="50" x2="50" y1="72.5938" y2="1310.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="179.5" x2="179.5" y1="72.5938" y2="1310.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="416" x2="416" y1="72.5938" y2="1310.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="585" x2="585" y1="72.5938" y2="1310.1484"/><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="21" y="33.2969"/><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="17" y="37.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="24" y="57.292">Nodes</text><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="21" y="1309.1484"/><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="17" y="1313.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="24" y="1333.1436">Nodes</text><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="134.5" y="37.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="141.5" y="57.292">camxnode</text><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="134.5" y="1309.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="141.5" y="1329.1436">camxnode</text><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="342" y="37.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="349" y="57.292">camxmetadatapool</text><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="342" y="1309.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="349" y="1329.1436">camxmetadatapool</text><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="501" y="37.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="508" y="57.292">camxhal3metadatautil</text><rect fill="#FEFECE" filter="url(#f293rawbri8fh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="501" y="1309.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="508" y="1329.1436">camxhal3metadatautil</text><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="1085.2891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="174.5" y="206.7266"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="980.3594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="179.5" y="268.5234"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="340.875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="184.5" y="334.7891"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="189.5" y="586.3984"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="87.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="411.5" y="413.9219"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="336.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="411.5" y="877.0234"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="170.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="416.5" y="968.4219"/><rect fill="#FFFFFF" filter="url(#f293rawbri8fh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="580" y="443.4531"/><rect fill="#EEEEEE" filter="url(#f293rawbri8fh)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="696" x="3" y="103.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="699" y1="103.1602" y2="103.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="699" y1="106.1602" y2="106.1602"/><rect fill="#EEEEEE" filter="url(#f293rawbri8fh)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="159" x="271.5" y="92.5938"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="282.5" y="108.6606">Metadata Listener</text><polygon fill="#A80036" points="162.5,202.7266,172.5,206.7266,162.5,210.7266,166.5,206.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="50.5" x2="168.5" y1="206.7266" y2="206.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="57.5" y="141.7935">WriteDataList</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="157.5" y="141.7935">(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="57.5" y="156.9263">pDataList,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="57.5" y="172.0591">ppData,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="57.5" y="187.1919">pDataSize,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="57.5" y="202.3247">length)</text><rect fill="none" height="1041.625" style="stroke: #000000; stroke-width: 2.0;" width="676" x="13" y="222.3906"/><polygon fill="#EEEEEE" points="13,222.3906,90,222.3906,90,229.3906,80,239.3906,13,239.3906,13,222.3906" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="235.4575">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="105" y="234.6011">[length]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="184.5" x2="231.5" y1="255.6563" y2="255.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="231.5" x2="231.5" y1="255.6563" y2="268.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="190.5" x2="231.5" y1="268.6563" y2="268.6563"/><polygon fill="#A80036" points="200.5,264.6563,190.5,268.6563,200.5,272.6563,196.5,268.6563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="196.5" y="250.5903">WriteData</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="270.5" y="250.5903">()</text><rect fill="none" height="490.9688" style="stroke: #000000; stroke-width: 2.0;" width="564.5" x="114.5" y="288.6563"/><polygon fill="#EEEEEE" points="114.5,288.6563,178.5,288.6563,178.5,295.6563,168.5,305.6563,114.5,305.6563,114.5,288.6563" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="129.5" y="301.7231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="193.5" y="300.8667">[case 0]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="189.5" x2="236.5" y1="321.9219" y2="321.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="236.5" x2="236.5" y1="321.9219" y2="334.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="195.5" x2="236.5" y1="334.9219" y2="334.9219"/><polygon fill="#A80036" points="205.5,330.9219,195.5,334.9219,205.5,338.9219,201.5,334.9219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="201.5" y="316.856">EarlyReturnTag</text><polygon fill="#A80036" points="399.5,409.9219,409.5,413.9219,399.5,417.9219,403.5,413.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="194.5" x2="405.5" y1="413.9219" y2="413.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="201.5" y="363.9888">SetMetadataByTag(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="201.5" y="379.1216">tag,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="201.5" y="394.2544">pData,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="201.5" y="409.3872">count)</text><polygon fill="#A80036" points="568,439.4531,578,443.4531,568,447.4531,572,443.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="421.5" x2="574" y1="443.4531" y2="443.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="428.5" y="438.52">UpdateMetaData</text><polygon fill="#A80036" points="432.5,468.5859,422.5,472.5859,432.5,476.5859,428.5,472.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="426.5" x2="584" y1="472.5859" y2="472.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="438.5" y="467.6528">return</text><polygon fill="#A80036" points="205.5,497.7188,195.5,501.7188,205.5,505.7188,201.5,501.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199.5" x2="415.5" y1="501.7188" y2="501.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="211.5" y="496.7856">return</text><rect fill="none" height="124.8125" style="stroke: #000000; stroke-width: 2.0;" width="306" x="124.5" y="516.8516"/><polygon fill="#EEEEEE" points="124.5,516.8516,188.5,516.8516,188.5,523.8516,178.5,533.8516,124.5,533.8516,124.5,516.8516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="139.5" y="529.9185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="203.5" y="529.062">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="217" x="208.5" y="529.062">GetCurrentEarlyTagsCountForSlot</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="203.5" y="541.8667">&gt;=</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="203.5" y="554.6714">SizeOfFixedList</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="303.5" y="554.6714">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="194.5" x2="241.5" y1="573.5313" y2="573.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="241.5" x2="241.5" y1="573.5313" y2="586.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="200.5" x2="241.5" y1="586.5313" y2="586.5313"/><polygon fill="#A80036" points="210.5,582.5313,200.5,586.5313,210.5,590.5313,206.5,586.5313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="203" x="206.5" y="568.4653">ProcessEarlyMetadataDone</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="199.5" x2="241.5" y1="625.6641" y2="625.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="241.5" x2="241.5" y1="625.6641" y2="638.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="194.5" x2="241.5" y1="638.6641" y2="638.6641"/><polygon fill="#A80036" points="204.5,634.6641,194.5,638.6641,204.5,642.6641,200.5,638.6641" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="206.5" y="620.5981">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="194.5" x2="236.5" y1="674.7969" y2="674.7969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="236.5" x2="236.5" y1="674.7969" y2="687.7969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="189.5" x2="236.5" y1="687.7969" y2="687.7969"/><polygon fill="#A80036" points="199.5,683.7969,189.5,687.7969,199.5,691.7969,195.5,687.7969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="201.5" y="669.731">return</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114.5" x2="679" y1="691.7969" y2="691.7969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="119.5" y="702.0073">[case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="175" x="158.5" y="702.0073">InputMetadataSectionMask</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="333.5" y="702.0073">]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114.5" x2="679" y1="706.6016" y2="706.6016"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="119.5" y="716.812">[case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="158.5" y="716.812">UsecaseMetadataSectionMask</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="354.5" y="716.812">]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114.5" x2="679" y1="721.4063" y2="721.4063"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="119.5" y="731.6167">[case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="158.5" y="731.6167">StaticMetadataSectionMask</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="337.5" y="731.6167">]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114.5" x2="679" y1="736.2109" y2="736.2109"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="119.5" y="746.4214">[case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="158.5" y="746.4214">PropertyGroup::Result &lt;&lt; 16</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="340.5" y="746.4214">]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114.5" x2="679" y1="751.0156" y2="751.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="119.5" y="761.2261">[case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="158.5" y="761.2261">PropertyGroup::Internal &lt;&lt; 16</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="350.5" y="761.2261">]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114.5" x2="679" y1="765.8203" y2="765.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="119.5" y="776.0308">[case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="158.5" y="776.0308">PropertyGroup::Usecase &lt;&lt; 16</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="354.5" y="776.0308">]</text><polygon fill="#FBFB77" filter="url(#f293rawbri8fh)" points="23,791.625,23,846.625,331,846.625,331,801.625,321,791.625,23,791.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321" x2="321" y1="791.625" y2="801.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331" x2="321" y1="801.625" y2="801.625"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="29" y="808.6919">1. pSlot-&gt;WriteLock</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="287" x="29" y="823.8247">Utils::Memcpy(pPoolData, pData, size)</text><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="29" y="838.9575">2. pSlot-&gt;Unlock</text><polygon fill="#A80036" points="399.5,873.0234,409.5,877.0234,399.5,881.0234,403.5,877.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="189.5" x2="405.5" y1="877.0234" y2="877.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="196.5" y="872.0903">PublishProperty()</text><polygon fill="#FBFB77" filter="url(#f293rawbri8fh)" points="266,890.1563,266,930.1563,563,930.1563,563,900.1563,553,890.1563,266,890.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="553" x2="553" y1="890.1563" y2="900.1563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="563" x2="553" y1="900.1563" y2="900.1563"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="272" y="907.2231">TODO: this need check further</text><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="276" x="272" y="922.356">m_pPool-&gt;LockPropertySubscribers()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="421.5" x2="468.5" y1="955.5547" y2="955.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="468.5" y1="955.5547" y2="968.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="427.5" x2="468.5" y1="968.5547" y2="968.5547"/><polygon fill="#A80036" points="437.5,964.5547,427.5,968.5547,437.5,972.5547,433.5,968.5547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="433.5" y="950.4888">NotifyImmediate()</text><polygon fill="#FBFB77" filter="url(#f293rawbri8fh)" points="220,986.5547,220,1101.5547,608,1101.5547,608,996.5547,598,986.5547,220,986.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="598" x2="598" y1="986.5547" y2="996.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="608" x2="598" y1="996.5547" y2="996.5547"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="226" y="1003.6216">Important</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="226" y="1018.7544">For Property, call</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="337" y="1018.7544">OnPropertyUpdate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="226" y="1033.8872">For Metadata, call</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="344" y="1033.8872">OnMetadataUpdate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="367" x="226" y="1049.02">Other Class which listen to the Prop or Meta will be trigger</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="226" y="1064.1528">like</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="251" y="1064.1528">class Actuator final : public IPropertyPoolObserver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="226" y="1079.2856">and This message will update for</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="226" y="1094.4185">All Node</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="426.5" x2="468.5" y1="1137.6172" y2="1137.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="468.5" y1="1137.6172" y2="1150.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="421.5" x2="468.5" y1="1150.6172" y2="1150.6172"/><polygon fill="#A80036" points="431.5,1146.6172,421.5,1150.6172,431.5,1154.6172,427.5,1150.6172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="433.5" y="1132.5513">return</text><polygon fill="#FBFB77" filter="url(#f293rawbri8fh)" points="258,1158.6172,258,1183.6172,570,1183.6172,570,1168.6172,560,1158.6172,258,1158.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="560" x2="560" y1="1158.6172" y2="1168.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="570" x2="560" y1="1168.6172" y2="1168.6172"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="264" y="1175.6841">m_pPool-&gt;UnlockPropertySubscribers()</text><polygon fill="#A80036" points="200.5,1209.75,190.5,1213.75,200.5,1217.75,196.5,1213.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="194.5" x2="415.5" y1="1213.75" y2="1213.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="206.5" y="1208.8169">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="189.5" x2="231.5" y1="1248.0156" y2="1248.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="231.5" x2="231.5" y1="1248.0156" y2="1261.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="184.5" x2="231.5" y1="1261.0156" y2="1261.0156"/><polygon fill="#A80036" points="194.5,1257.0156,184.5,1261.0156,194.5,1265.0156,190.5,1261.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="196.5" y="1242.9497">return</text><polygon fill="#A80036" points="61.5,1288.0156,51.5,1292.0156,61.5,1296.0156,57.5,1292.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="178.5" y1="1292.0156" y2="1292.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="67.5" y="1287.0825">return</text><!--
@startuml
title metadata

collections Nodes
participant camxnode
participant camxmetadatapool as meta_pool
participant camxhal3metadatautil as hal3_meta_util

== <color:blue> Metadata Listener </color>==
Nodes->camxnode: **WriteDataList**(\npDataList,\nppData,\npDataSize,\nlength)
activate camxnode
  loop length
    camxnode->camxnode: **WriteData**()
    activate camxnode
      alt case 0
        camxnode->camxnode: **EarlyReturnTag**
        activate camxnode
          camxnode->meta_pool:**SetMetadataByTag(**\ntag,\npData,\ncount)
          activate meta_pool
            meta_pool->hal3_meta_util: **UpdateMetaData**
            activate hal3_meta_util
            hal3_meta_util->meta_pool: return
            deactivate hal3_meta_util
          meta_pool->camxnode: return
          deactivate meta_pool

          alt **GetCurrentEarlyTagsCountForSlot**\n>=\n**SizeOfFixedList**
            camxnode->camxnode: **ProcessEarlyMetadataDone**
            activate camxnode
            camxnode->camxnode: return
            deactivate camxnode
          end
        camxnode->camxnode: return
        deactivate camxnode
      else case **InputMetadataSectionMask**
      else case **UsecaseMetadataSectionMask**
      else case **StaticMetadataSectionMask**
      else case **PropertyGroup::Result << 16**
      else case **PropertyGroup::Internal << 16**
      else case **PropertyGroup::Usecase << 16**
      end

      note over camxnode
        <color:blue>**1. pSlot->WriteLock**</color>
        **Utils::Memcpy(pPoolData, pData, size)**
        <color:blue>**2. pSlot->Unlock**</color>
      end note
      camxnode->meta_pool: **PublishProperty()**
      activate meta_pool
        note over meta_pool
          <color:red>TODO: this need check further</color>
          <color:blue>**m_pPool->LockPropertySubscribers()**</color>
        end note

        meta_pool->meta_pool: **NotifyImmediate()**
        activate meta_pool
          note over meta_pool
            <color:red>**Important**</color>
            For Property, call <color:red>**OnPropertyUpdate**</color>
            For Metadata, call <color:red>**OnMetadataUpdate**</color>
            Other Class which listen to the Prop or Meta will be trigger
            like <color:red>class Actuator final : public IPropertyPoolObserver</color>
            and This message will update for
            <color:red>All Node</color>
          end note
        meta_pool->meta_pool: return
        deactivate meta_pool

        note over meta_pool
          <color:blue>**m_pPool->UnlockPropertySubscribers()**</color>
        end note
      meta_pool->camxnode: return
      deactivate meta_pool
    camxnode->camxnode: return
    deactivate camxnode
  end

camxnode->Nodes: return
deactivate camxnode

@enduml

PlantUML version 1.2017.20(Mon Dec 11 16:57:05 GMT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_171-8u171-b11-0ubuntu0.16.04.1-b11
Operating System: Linux
OS Version: 4.4.0-43-Microsoft
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>