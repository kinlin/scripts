<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="661px" preserveAspectRatio="none" style="width:706px;height:661px;" version="1.1" viewBox="0 0 706 661" width="706px" zoomAndPan="magnify"><defs><filter height="300%" id="fzlk91t9cddsm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="242.5" y="24.5332">3A sync of 845</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://confluence.qualcomm.com/confluence/display/3AWIDETELE/3A+Sync+Design" xlink:show="new" xlink:title="https://confluence.qualcomm.com/confluence/display/3AWIDETELE/3A+Sync+Design" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="109" x="345.5" y="24.5332">ReferencePage</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="345.5" x2="454.5" y1="26.5332" y2="26.5332"/></a><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="30" y1="71.2188" y2="293.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="30" x2="30" y1="293.2891" y2="335.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="30" y1="335.125" y2="451.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="30" x2="30" y1="451.4375" y2="493.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="30" y1="493.2734" y2="619.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="71.2188" y2="293.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="123" x2="123" y1="293.2891" y2="335.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="335.125" y2="451.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="123" x2="123" y1="451.4375" y2="493.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="493.2734" y2="619.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="413" y1="71.2188" y2="293.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="413" x2="413" y1="293.2891" y2="335.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="413" y1="335.125" y2="451.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="413" x2="413" y1="451.4375" y2="493.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="413" y1="493.2734" y2="619.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="458" x2="458" y1="71.2188" y2="293.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="458" x2="458" y1="293.2891" y2="335.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="458" x2="458" y1="335.125" y2="451.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="458" x2="458" y1="451.4375" y2="493.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="458" x2="458" y1="493.2734" y2="619.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="510" y1="71.2188" y2="293.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="510" x2="510" y1="293.2891" y2="335.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="510" y1="335.125" y2="451.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="510" x2="510" y1="451.4375" y2="493.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="510" y1="493.2734" y2="619.5859"/><rect fill="#FEFECE" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="40" x="8" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="15" y="56.1426">HAL</text><rect fill="#FEFECE" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="40" x="8" y="618.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="15" y="640.1191">HAL</text><rect fill="#FEFECE" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="86" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="93" y="56.1426">MetaTag</text><rect fill="#FEFECE" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="86" y="618.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="93" y="640.1191">MetaTag</text><rect fill="#00FF00" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="398" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="405" y="56.1426">af</text><rect fill="#00FF00" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="398" y="618.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="405" y="640.1191">af</text><rect fill="#ADFF2F" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="438" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="445" y="56.1426">aec</text><rect fill="#ADFF2F" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="438" y="618.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="445" y="640.1191">aec</text><rect fill="#7FFF00" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="39" x="489" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="496" y="56.1426">awb</text><rect fill="#7FFF00" filter="url(#fzlk91t9cddsm)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="39" x="489" y="618.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="496" y="640.1191">awb</text><rect fill="#EEEEEE" filter="url(#fzlk91t9cddsm)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="691" x="3" y="103.0234"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="694" y1="103.0234" y2="103.0234"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="694" y1="106.0234" y2="106.0234"/><rect fill="#EEEEEE" filter="url(#fzlk91t9cddsm)" height="25.6094" style="stroke: #000000; stroke-width: 2.0;" width="40" x="328.5" y="91.2188"/><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="338.5" y="109.752">Af</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="360.5" y="109.9717"/><polygon fill="#A80036" points="111,144.8281,121,148.8281,111,152.8281,115,148.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="117" y1="148.8281" y2="148.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="37" y="144.3232">Role Switch</text><polygon fill="#A80036" points="134,175.1797,124,179.1797,134,183.1797,130,179.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="128" x2="412" y1="179.1797" y2="179.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="140" y="174.6748">VendorTagManager::QueryVendorTagLocation</text><polygon fill="#FBFB77" filter="url(#fzlk91t9cddsm)" points="180,192.5313,180,283.5313,642,283.5313,642,202.5313,632,192.5313,180,192.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632" x2="632" y1="192.5313" y2="202.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="642" x2="632" y1="202.5313" y2="202.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="186" y="211.0264">"com.qti.chi.multicamerainfo" "MultiCameraIdRole"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="186" y="227.3779">"com.qti.chi.multicamerainfo" "MasterCamera"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="190" y="243.7295"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="186" y="260.0811">af logic in CAFIOUtil::ReadDualCameraInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="186" y="276.4326">pStatsCameraInfo-&gt;algoRole =</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="367" y="276.4326">StatsAlgoRoleMaster</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="498" y="276.4326">/</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="502" y="276.4326">StatsAlgoRoleSlave</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="271.75" y="318.708"/><rect fill="#EEEEEE" filter="url(#fzlk91t9cddsm)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="691" x="3" y="356.9297"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="694" y1="356.9297" y2="356.9297"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="694" y1="359.9297" y2="359.9297"/><rect fill="#EEEEEE" filter="url(#fzlk91t9cddsm)" height="25.6094" style="stroke: #000000; stroke-width: 2.0;" width="52" x="322.5" y="345.125"/><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="332.5" y="363.6582">Aec</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="366.5" y="363.8779"/><polygon fill="#A80036" points="134,398.7344,124,402.7344,134,406.7344,130,402.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="128" x2="457.5" y1="402.7344" y2="402.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="140" y="398.2295">VendorTagManager::QueryVendorTagLocation</text><polygon fill="#FBFB77" filter="url(#fzlk91t9cddsm)" points="247,416.0859,247,442.0859,666,442.0859,666,426.0859,656,416.0859,247,416.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656" x2="656" y1="416.0859" y2="426.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666" x2="656" y1="426.0859" y2="426.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="398" x="253" y="434.5811">read tag in StatsProcessingNode::PrepareStatsProcessRequestData</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="271.75" y="476.8564"/><rect fill="#EEEEEE" filter="url(#fzlk91t9cddsm)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="691" x="3" y="515.0781"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="694" y1="515.0781" y2="515.0781"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="694" y1="518.0781" y2="518.0781"/><rect fill="#EEEEEE" filter="url(#fzlk91t9cddsm)" height="25.6094" style="stroke: #000000; stroke-width: 2.0;" width="55" x="321" y="503.2734"/><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="331" y="521.8066">Awb</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="368" y="522.0264"/><polygon fill="#A80036" points="134,556.8828,124,560.8828,134,564.8828,130,560.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="128" x2="509.5" y1="560.8828" y2="560.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="140" y="556.3779">VendorTagManager::QueryVendorTagLocation</text><polygon fill="#FBFB77" filter="url(#fzlk91t9cddsm)" points="331,574.2344,331,600.2344,685,600.2344,685,584.2344,675,574.2344,331,574.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="675" x2="675" y1="574.2344" y2="584.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="685" x2="675" y1="584.2344" y2="584.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="333" x="337" y="592.7295">read tag in AWBNode::PrepareStatsProcessRequestData</text><!--
@startuml
title 3A sync of 845 [[https://confluence.qualcomm.com/confluence/display/3AWIDETELE/3A+Sync+Design ReferencePage]]

participant HAL
participant MetaTag
participant af #00ff00
participant aec #GreenYellow
participant awb #Chartreuse

== <color:red><size:14> Af </size></color> ==
HAL->MetaTag: Role Switch
af->MetaTag: VendorTagManager::QueryVendorTagLocation
note over af
"com.qti.chi.multicamerainfo" "MultiCameraIdRole"
"com.qti.chi.multicamerainfo" "MasterCamera"

af logic in CAFIOUtil::ReadDualCameraInfo
pStatsCameraInfo->algoRole = **StatsAlgoRoleMaster**/**StatsAlgoRoleSlave**
end note

... ...
== <color:red><size:14> Aec </size></color> ==
aec->MetaTag: VendorTagManager::QueryVendorTagLocation
note over aec
read tag in StatsProcessingNode::PrepareStatsProcessRequestData
end note

... ...
== <color:red><size:14> Awb </size></color> ==
awb->MetaTag: VendorTagManager::QueryVendorTagLocation
note over awb
read tag in AWBNode::PrepareStatsProcessRequestData
end note

@enduml

PlantUML version 1.2017.20(Tue Dec 12 00:57:05 CST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_171-b11
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>