<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1655px" preserveAspectRatio="none" style="width:1276px;height:1655px;" version="1.1" viewBox="0 0 1276 1655" width="1276px" zoomAndPan="magnify"><defs><filter height="300%" id="f13imwu7tbrafy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1484.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="117" y="112.5625"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1464.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="274" y="141.6953"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1427.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="279" y="178.8281"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1080.9141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284" y="487.0859"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="252.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="289" y="529.2188"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="98.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="460" y="647.8828"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="460" y="817.6797"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="654" y="846.8125"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="548.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="837.5" y="1057.6094"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="139.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1094.7422"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="139.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1278.6719"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1462.6016"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="67.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1538.8672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="122" x2="122" y1="38.2969" y2="1615.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="279" x2="279" y1="38.2969" y2="1615.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="464.5" x2="464.5" y1="38.2969" y2="1615.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="658.5" x2="658.5" y1="38.2969" y2="1615.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="842.5" x2="842.5" y1="38.2969" y2="1615.1328"/><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="28" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="170" x="35" y="22.9951">qcaecalgorighminterface</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="28" y="1614.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="170" x="35" y="1634.1279">qcaecalgorighminterface</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="226" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="233" y="22.9951">caecxcontrol</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="226" y="1614.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="233" y="1634.1279">caecxcontrol</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="420.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="427.5" y="22.9951">caecxcore</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="420.5" y="1614.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="427.5" y="1634.1279">caecxcore</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="582.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="589.5" y="22.9951">caecxbankmanager</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="582.5" y="1614.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="589.5" y="1634.1279">caecxbankmanager</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="745.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="176" x="752.5" y="22.9951">CAECXControlPreprocess</text><rect fill="#FEFECE" filter="url(#f13imwu7tbrafy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="745.5" y="1614.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="176" x="752.5" y="1634.1279">CAECXControlPreprocess</text><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1484.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="117" y="112.5625"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1464.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="274" y="141.6953"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1427.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="279" y="178.8281"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="1080.9141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284" y="487.0859"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="252.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="289" y="529.2188"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="98.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="460" y="647.8828"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="460" y="817.6797"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="654" y="846.8125"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="548.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="837.5" y="1057.6094"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="139.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1094.7422"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="139.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1278.6719"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1462.6016"/><rect fill="#FFFFFF" filter="url(#f13imwu7tbrafy)" height="67.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="842.5" y="1538.8672"/><rect fill="#EEEEEE" filter="url(#f13imwu7tbrafy)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1261" x="3" y="68.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1264" y1="68.8633" y2="68.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1264" y1="71.8633" y2="71.8633"/><rect fill="#EEEEEE" filter="url(#f13imwu7tbrafy)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="124" x="571.5" y="58.2969"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="582.5" y="74.3638">Begin process</text><ellipse cx="10.5" cy="111.8125" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="105,108.5625,115,112.5625,105,116.5625,109,112.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="111" y1="112.5625" y2="112.5625"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="18" y="107.4966">AECProcess</text><polygon fill="#A80036" points="262,137.6953,272,141.6953,262,145.6953,266,141.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="268" y1="141.6953" y2="141.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="134" y="136.6294">process</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="284" x2="331" y1="165.8281" y2="165.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331" x2="331" y1="165.8281" y2="178.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="290" x2="331" y1="178.8281" y2="178.8281"/><polygon fill="#A80036" points="300,174.8281,290,178.8281,300,182.8281,296,178.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="296" y="160.7622">UtilParseProcessInput</text><path d="M294,196.8281 L294,448.8281 L506,448.8281 L506,206.8281 L496,196.8281 L294,196.8281 " fill="#FBFB77" filter="url(#f13imwu7tbrafy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M496,196.8281 L496,206.8281 L506,206.8281 L496,196.8281 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="300" y="213.895">读取Input里面的信息如</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="300" y="229.0278">AECAlgoInputBayerGridCount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="300" y="244.1606">AECAlgoInputBayerHistCount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="300" y="259.2935">AECAlgoInputHDRBHistCount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="300" y="274.4263">AECAlgoInputStatisticInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="300" y="289.5591">AECAlgoInputBayerGrid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="300" y="304.6919">AECAlgoInputBayerHist</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="300" y="319.8247">AECAlgoInputIHist</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="300" y="334.9575">AECAlgoInputVendorTag</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="300" y="350.0903">AECAlgoInputDebugData</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="300" y="365.2231">AECAlgoInputStatsChiHandle</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="300" y="380.356">AECAlgoInputHDRBHist</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="300" y="395.4888">AECAlgoInputCameraInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="300" y="410.6216">AECAlgoInputTintlessBGStats</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="300" y="425.7544">AECAlgoInputLensShadingInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="300" y="440.8872">AECAlgoInputRDIStats</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="289" x2="336" y1="474.0859" y2="474.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336" x2="336" y1="474.0859" y2="487.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="336" y1="487.0859" y2="487.0859"/><polygon fill="#A80036" points="305,483.0859,295,487.0859,305,491.0859,301,487.0859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="301" y="469.02">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="341" y1="516.2188" y2="516.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="341" y1="516.2188" y2="529.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="300" x2="341" y1="529.2188" y2="529.2188"/><polygon fill="#A80036" points="310,525.2188,300,529.2188,310,533.2188,306,529.2188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="150" x="306" y="511.1528">ParseVendorTagInfo</text><path d="M304,547.2188 L304,617.2188 L696,617.2188 L696,557.2188 L686,547.2188 L304,547.2188 " fill="#FBFB77" filter="url(#f13imwu7tbrafy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M686,547.2188 L686,557.2188 L696,557.2188 L686,547.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="310" y="564.2856">1. get AECXAdvancedinfo</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="310" y="579.4185">2. m_extDepthMapInfo 解析结果都存在</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="310" y="594.5513">3. ResampleMap, 根据需要的输出size，插值</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="371" x="310" y="609.6841">4. set external maps to 2d weight table databank, WHY???</text><polygon fill="#A80036" points="448,643.8828,458,647.8828,448,651.8828,452,647.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="454" y1="647.8828" y2="647.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="306" y="642.8169">setBankData</text><path d="M475,660.8828 L475,715.8828 L614,715.8828 L614,670.8828 L604,660.8828 L475,660.8828 " fill="#FBFB77" filter="url(#f13imwu7tbrafy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M604,660.8828 L604,670.8828 L614,670.8828 L604,660.8828 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="481" y="677.9497">分别是 Selection Map</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="481" y="693.0825">Confidence Map</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="481" y="708.2153">Distance Map</text><polygon fill="#A80036" points="310,742.4141,300,746.4141,310,750.4141,306,746.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="304" x2="464" y1="746.4141" y2="746.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="316" y="741.3481">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="341" y1="780.5469" y2="780.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341" x2="341" y1="780.5469" y2="793.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="341" y1="793.5469" y2="793.5469"/><polygon fill="#A80036" points="304,789.5469,294,793.5469,304,797.5469,300,793.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="306" y="775.481">return</text><polygon fill="#A80036" points="448,813.6797,458,817.6797,448,821.6797,452,817.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="454" y1="817.6797" y2="817.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="301" y="812.6138">runStartOfFrame</text><polygon fill="#A80036" points="642,842.8125,652,846.8125,642,850.8125,646,846.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470" x2="648" y1="846.8125" y2="846.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="477" y="841.7466">RunBankStartOfFrame</text><polygon fill="#A80036" points="481,871.9453,471,875.9453,481,879.9453,477,875.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="658" y1="875.9453" y2="875.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="487" y="870.8794">return</text><polygon fill="#A80036" points="305,901.0781,295,905.0781,305,909.0781,301,905.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="464" y1="905.0781" y2="905.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="311" y="900.0122">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="336" y1="934.2109" y2="934.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336" x2="336" y1="934.2109" y2="947.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="336" y1="947.2109" y2="947.2109"/><polygon fill="#A80036" points="305,943.2109,295,947.2109,305,951.2109,301,947.2109" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="301" y="929.145">IsROIActiva</text><path d="M299,960.2109 L299,985.2109 L593,985.2109 L593,970.2109 L583,960.2109 L299,960.2109 " fill="#FBFB77" filter="url(#f13imwu7tbrafy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M583,960.2109 L583,970.2109 L593,970.2109 L583,960.2109 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="305" y="977.2778">毫无疑问，process的时候是 face/track/touch roi优先的</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="336" y1="1015.4766" y2="1015.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336" x2="336" y1="1015.4766" y2="1028.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="336" y1="1028.4766" y2="1028.4766"/><polygon fill="#A80036" points="305,1024.4766,295,1028.4766,305,1032.4766,301,1028.4766" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="301" y="1010.4106">return</text><polygon fill="#A80036" points="825.5,1053.6094,835.5,1057.6094,825.5,1061.6094,829.5,1057.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="831.5" y1="1057.6094" y2="1057.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="301" y="1052.5435">ProcessControlStats</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="847.5" x2="894.5" y1="1081.7422" y2="1081.7422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="1081.7422" y2="1094.7422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="853.5" x2="894.5" y1="1094.7422" y2="1094.7422"/><polygon fill="#A80036" points="863.5,1090.7422,853.5,1094.7422,863.5,1098.7422,859.5,1094.7422" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="859.5" y="1076.6763">ConfigureHWStats</text><path d="M857,1112.7422 L857,1197.7422 L1112,1197.7422 L1112,1122.7422 L1102,1112.7422 L857,1112.7422 " fill="#FBFB77" filter="url(#f13imwu7tbrafy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1102,1112.7422 L1102,1122.7422 L1112,1122.7422 L1102,1112.7422 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="863" y="1129.8091">select tuning config</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="863" y="1144.9419">create HW stats instance like:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="879" y="1160.0747">CAECXProcessISPGridHWStats</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="879" y="1175.2075">CAECXProcessISPHistHWStats</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="879" y="1190.3403">CAECXProcessSensorHistHWStats</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="894.5" y1="1233.5391" y2="1233.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="1233.5391" y2="1246.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="847.5" x2="894.5" y1="1246.5391" y2="1246.5391"/><polygon fill="#A80036" points="857.5,1242.5391,847.5,1246.5391,857.5,1250.5391,853.5,1246.5391" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="859.5" y="1228.4731">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="847.5" x2="894.5" y1="1265.6719" y2="1265.6719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="1265.6719" y2="1278.6719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="853.5" x2="894.5" y1="1278.6719" y2="1278.6719"/><polygon fill="#A80036" points="863.5,1274.6719,853.5,1278.6719,863.5,1282.6719,859.5,1278.6719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="859.5" y="1260.606">ConfigureCoreStats</text><path d="M857,1296.6719 L857,1381.6719 L1255,1381.6719 L1255,1306.6719 L1245,1296.6719 L857,1296.6719 " fill="#FBFB77" filter="url(#f13imwu7tbrafy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1245,1296.6719 L1245,1306.6719 L1255,1306.6719 L1245,1296.6719 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="863" y="1313.7388">m_coreStatsDeque 里面存储了</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="377" x="863" y="1328.8716">CAECXCoreGridStatsOut CAECXCoreHistStatsOut的instance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="863" y="1344.0044">但分为不同的类型</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="863" y="1359.1372">AECAlgoInputBayerExposure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="863" y="1374.27">AECAlgoInputBayerHist</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="894.5" y1="1417.4688" y2="1417.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="1417.4688" y2="1430.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="847.5" x2="894.5" y1="1430.4688" y2="1430.4688"/><polygon fill="#A80036" points="857.5,1426.4688,847.5,1430.4688,857.5,1434.4688,853.5,1430.4688" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="859.5" y="1412.4028">return</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="847.5" x2="894.5" y1="1449.6016" y2="1449.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="1449.6016" y2="1462.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="853.5" x2="894.5" y1="1462.6016" y2="1462.6016"/><polygon fill="#A80036" points="863.5,1458.6016,853.5,1462.6016,863.5,1466.6016,859.5,1462.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="859.5" y="1444.5356">HandleStats</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="894.5" y1="1501.7344" y2="1501.7344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="894.5" x2="894.5" y1="1501.7344" y2="1514.7344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="847.5" x2="894.5" y1="1514.7344" y2="1514.7344"/><polygon fill="#A80036" points="857.5,1510.7344,847.5,1514.7344,857.5,1518.7344,853.5,1514.7344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="859.5" y="1496.6685">return</text><polygon fill="#A80036" points="305,1534.8672,295,1538.8672,305,1542.8672,301,1538.8672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="299" x2="841.5" y1="1538.8672" y2="1538.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="311" y="1533.8013">return</text><polygon fill="#A80036" points="267,1564,277,1568,267,1572,271,1568" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="273" y1="1568" y2="1568"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="134" y="1562.9341">return</text><polygon fill="#A80036" points="22,1593.1328,12,1597.1328,22,1601.1328,18,1597.1328" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="121.5" cy="1596.3828" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="16" x2="117" y1="1597.1328" y2="1597.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="28" y="1592.0669">return</text><!--MD5=[e5800bab6b766f07ba4d8a692d84b2d0]
@startuml
participant qcaecalgorighminterface
participant caecxcontrol
participant caecxcore
participant caecxbankmanager
participant CAECXControlPreprocess
== <color:blue> Begin process</color>==
[o->qcaecalgorighminterface: <color:red>**AECProcess**</color>
activate qcaecalgorighminterface
    qcaecalgorighminterface->caecxcontrol: **process**
    activate caecxcontrol
        caecxcontrol->caecxcontrol: **UtilParseProcessInput**
        activate caecxcontrol
            note right caecxcontrol
                读取Input里面的信息如
                AECAlgoInputBayerGridCount
                AECAlgoInputBayerHistCount
                AECAlgoInputHDRBHistCount
                AECAlgoInputStatisticInfo
                AECAlgoInputBayerGrid
                AECAlgoInputBayerHist
                AECAlgoInputIHist
                AECAlgoInputVendorTag
                AECAlgoInputDebugData
                AECAlgoInputStatsChiHandle
                AECAlgoInputHDRBHist
                AECAlgoInputCameraInfo
                AECAlgoInputTintlessBGStats
                AECAlgoInputLensShadingInfo
                AECAlgoInputRDIStats
            end note
        caecxcontrol<-caecxcontrol: return
        activate caecxcontrol

        caecxcontrol->caecxcontrol: **ParseVendorTagInfo**
        activate caecxcontrol
            note right caecxcontrol
                <color:blue>1. get AECXAdvancedinfo</color>
                <color:blue>2. m_extDepthMapInfo 解析结果都存在</color>
                <color:blue>3. ResampleMap, 根据需要的输出size，插值</color>
                <color:blue>4. set external maps to 2d weight table databank, WHY???</color>
            end note
            caecxcontrol->caecxcore: **setBankData**
            activate caecxcore
                note right caecxcore
                    分别是 Selection Map
                    Confidence Map
                    Distance Map
                end note
            caecxcontrol<-caecxcore: return
            deactivate caecxcore
        caecxcontrol<-caecxcontrol: return
        deactivate caecxcontrol
     
        caecxcontrol->caecxcore: **runStartOfFrame**
        activate caecxcore
            caecxcore->caecxbankmanager: **RunBankStartOfFrame**
            activate caecxbankmanager
            caecxcore<-caecxbankmanager: return
            deactivate caecxbankmanager
        caecxcontrol<-caecxcore: return
        deactivate caecxcore

        caecxcontrol->caecxcontrol: **IsROIActiva**
            note right caecxcontrol
                毫无疑问，process的时候是 face/track/touch roi优先的
            end note
        caecxcontrol<-caecxcontrol: return         

        caecxcontrol->CAECXControlPreprocess: **ProcessControlStats**
        activate CAECXControlPreprocess
            CAECXControlPreprocess->CAECXControlPreprocess: **ConfigureHWStats**
            activate CAECXControlPreprocess
            note right CAECXControlPreprocess
                select tuning config
                create HW stats instance like:
                    CAECXProcessISPGridHWStats
                    CAECXProcessISPHistHWStats
                    CAECXProcessSensorHistHWStats
            end note
            CAECXControlPreprocess<-CAECXControlPreprocess: return
            deactivate CAECXControlPreprocess

            CAECXControlPreprocess->CAECXControlPreprocess: **ConfigureCoreStats**
            activate CAECXControlPreprocess
            note right CAECXControlPreprocess
                m_coreStatsDeque 里面存储了
                CAECXCoreGridStatsOut CAECXCoreHistStatsOut的instance
                但分为不同的类型
                AECAlgoInputBayerExposure
                AECAlgoInputBayerHist
            end note
            CAECXControlPreprocess<-CAECXControlPreprocess: return
            deactivate CAECXControlPreprocess
            
            CAECXControlPreprocess->CAECXControlPreprocess: **HandleStats**
            activate CAECXControlPreprocess
            note right CAECXControlPreprocess
            end note
            CAECXControlPreprocess<-CAECXControlPreprocess: return
            deactivate CAECXControlPreprocess


        caecxcontrol<-CAECXControlPreprocess: return
        activate CAECXControlPreprocess

    qcaecalgorighminterface->caecxcontrol: return
    deactivate caecxcontrol
[o<-qcaecalgorighminterface: return
deactivate qcaecalgorighminterface

@enduml

PlantUML version 1.2020.00(Sat Jan 11 12:30:53 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Ubuntu-1ubuntu118.04.1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>